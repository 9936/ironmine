<%= form_for(@dev_management,:url=>{:action=>"update"},:builder => CustomFormBuilder,:html => { :multipart => true }) do |f| %>

  <%= hidden_field_tag :return_url,@return_url %>

  <% content_for :dev_management do %>
    <table class="form-table">
      <tbody>
      <tr>
        <td class="label-col"><label>Project</label></td>
        <td class="data-col">
          <%= f.select :project, options_for_select(get_project_list, @dev_management.related_project), {}, {:required=>true}%>
        </td>
        <td class="label-col"><label>Gap No.</label></td>
        <td class="data-col">
          <%= f.text_field :gap_no, :required=>true%>
        </td>
      </tr>
      <tr>
        <td class="label-col"><label>Related Project</label></td>
        <td class="data-col">
          <%= f.select :related_project, nullable_options_for_select(get_project_list, @dev_management.related_project)%>
        </td>
        <td class="label-col"><label>Related Project Gap No.</label></td>
        <td class="data-col">
          <%= f.text_field :related_project_gap_no%>
        </td>
      </tr>
      <tr>
        <td class="label-col"><label>Name</label></td>
        <td class="data-col">
          <%= f.text_field :name%>
        </td>
      </tr>
      <tr>
        <td class="label-col"><label>Description</label></td>
        <td class="data-col" colspan="3">
          <%= f.text_area :description, :style => "width:100%", :rows => "5", :cols=>"200"%>
        </td>
      </tr>
      <tr>
        <td class="label-col"><label>Investigation Result</label></td>
        <td class="data-col" colspan="3" >
          <%= f.text_area :investigation_result, :style => "width:100%", :rows => "5", :cols=>"200"%>
        </td>
      </tr>
      <tr>
        <td class="label-col"><label>Company</label></td>
        <td class="data-col">
          <%= f.text_field :company%>
        </td>
        <td class="label-col"><label>Category</label></td>
        <td class="data-col">
          <%= f.text_field :category%>
        </td>
      </tr>
      <tr>
         <td class="label-col"><label>System</label></td>
         <td class="data-col">
           <%= f.text_field :system%>
         </td>
         <td class="label-col"><label>Priority2</label></td>
         <td class="data-col">
           <%= f.text_field :priority2%>
         </td>
      </tr>
      <tr>
         <td class="label-col"><label>Designated Module</label></td>
         <td class="data-col">
           <%= f.text_field :designated_module%>
         </td>
         <td class="label-col"><label>Owner</label></td>
         <td class="data-col">
           <%= f.text_field :owner%>
         </td>
      </tr>
      <tr>
         <td class="label-col"><label>Classification(开发方式)</label></td>
         <td class="data-col">
           <%= f.text_field :classification%>
         </td>
         <td class="label-col"><label>类型(Type)</label></td>
         <td class="data-col">
           <%= f.text_field :dev_type%>
         </td>
      </tr>
      <tr>
         <td class="label-col"><label>难度</label></td>
         <td class="data-col">
           <%= f.text_field :dev_difficulty%>
         </td>
         <td class="label-col"><label>GT/Local</label></td>
         <td class="data-col">
           <%= f.text_field :gt_local%>
         </td>
      </tr>
      <tr>
         <td class="label-col"><label>Status</label></td>
         <td class="data-col">
           <%= f.text_field :dev_status%>
         </td>
         <td class="label-col"><label>完成阶段</label></td>
         <td class="data-col">
           <%= f.text_field :completed_phase%>
         </td>
      </tr>     addon_priority
      <tr>
         <td class="label-col"><label>Addon Priority</label></td>
         <td class="data-col">
           <%= f.text_field :addon_priority%>
         </td>
      </tr>
      </tbody>
    </table>
  <% end%>


  <% content_for :fun_des do %>
    <table class="form-table">
       <tbody>
           <tr>
              <td class="label-col"><label>Owner</label></td>
              <td class="data-col">
                <%= f.text_field :fun_des_owner%>
              </td>
             <td class="label-col"><label>Status</label></td>
             <td class="data-col">
               <%= f.text_field :fun_des_status%>
             </td>
           </tr>
           <tr>
              <td class="label-col"><label>计划开始时间</label></td>
              <td class="data-col">
                <%= f.date_field :fun_des_plan_start, :class=>"date"%>
              </td>
             <td class="label-col"><label>计划结束时间</label></td>
             <td class="data-col">
               <%= f.date_field :fun_des_plan_end, :class=>"date"%>
             </td>
           </tr>
           <tr>
              <td class="label-col"><label>开始时间</label></td>
              <td class="data-col">
                <%= f.date_field :fun_des_real_start, :class=>"date"%>
              </td>
             <td class="label-col"><label>结束时间</label></td>
             <td class="data-col">
               <%= f.date_field :fun_des_real_end, :class=>"date"%>
             </td>
           </tr>
       </tbody>
    </table>
  <% end %>

    <% content_for :tec_dev do %>
      <table class="form-table">
         <tbody>
             <tr>
                <td class="label-col"><label>Owner</label></td>
                <td class="data-col">
                  <%= f.text_field :tec_dev_owner%>
                </td>
               <td class="label-col"><label>Status</label></td>
               <td class="data-col">
                 <%= f.text_field :tec_dev_status%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>计划开始时间</label></td>
                <td class="data-col">
                  <%= f.date_field :tec_dev_plan_start, :class=>"date"%>
                </td>
               <td class="label-col"><label>计划结束时间</label></td>
               <td class="data-col">
                 <%= f.date_field :tec_dev_plan_end, :class=>"date"%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>开始时间</label></td>
                <td class="data-col">
                  <%= f.date_field :tec_dev_real_start, :class=>"date"%>
                </td>
               <td class="label-col"><label>结束时间</label></td>
               <td class="data-col">
                 <%= f.date_field :tec_dev_real_end, :class=>"date"%>
               </td>
             </tr>
         </tbody>
      </table>
    <% end %>

    <% content_for :fun_tes do %>
      <table class="form-table">
         <tbody>
             <tr>
                <td class="label-col"><label>Owner 1</label></td>
                <td class="data-col">
                  <%= f.text_field :fun_tes_owner%>
                </td>
               <td class="label-col"><label>Owner 2</label></td>
               <td class="data-col">
                 <%= f.text_field :fun_tes_owner2%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>Owner 3</label></td>
                <td class="data-col">
                  <%= f.text_field :fun_tes_owner3%>
                </td>
               <td class="label-col"><label>Status</label></td>
               <td class="data-col">
                 <%= f.text_field :fun_tes_status%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>计划开始时间</label></td>
                <td class="data-col">
                  <%= f.date_field :fun_tes_plan_start, :class=>"date"%>
                </td>
               <td class="label-col"><label>计划结束时间</label></td>
               <td class="data-col">
                 <%= f.date_field :fun_tes_plan_end, :class=>"date"%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>开始时间</label></td>
                <td class="data-col">
                  <%= f.date_field :fun_tes_real_start, :class=>"date"%>
                </td>
               <td class="label-col"><label>结束时间</label></td>
               <td class="data-col">
                 <%= f.date_field :fun_tes_real_end, :class=>"date"%>
               </td>
             </tr>
         </tbody>
      </table>
    <% end %>

    <% content_for :review do %>
      <table class="form-table">
         <tbody>
             <tr>
                <td class="label-col"><label>Owner 1</label></td>
                <td class="data-col">
                  <%= f.text_field :review_owner%>
                </td>
               <td class="label-col"><label>Owner 2</label></td>
               <td class="data-col">
                 <%= f.text_field :review_owner2%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>Owner 3</label></td>
                <td class="data-col">
                  <%= f.text_field :review_owner3%>
                </td>
               <td class="label-col"><label>Owner 4</label></td>
               <td class="data-col">
                 <%= f.text_field :review_owner4%>
               </td>
             </tr>
             <tr>
               <td class="label-col"><label>Status</label></td>
               <td class="data-col">
                 <%= f.text_field :review_status%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>计划开始时间</label></td>
                <td class="data-col">
                  <%= f.date_field :review_plan_start, :class=>"date"%>
                </td>
               <td class="label-col"><label>计划结束时间</label></td>
               <td class="data-col">
                 <%= f.date_field :review_plan_end, :class=>"date"%>
               </td>
             </tr>
             <tr>
                <td class="label-col"><label>开始时间</label></td>
                <td class="data-col">
                  <%= f.date_field :review_real_start, :class=>"date"%>
                </td>
               <td class="label-col"><label>结束时间</label></td>
               <td class="data-col">
                 <%= f.date_field :review_real_end, :class=>"date"%>
               </td>
             </tr>
         </tbody>
      </table>
    <% end %>

  <!--页面结构-->
  <div class="page-block">
    <table class="page-block-header"><tr>
      <td class="page-block-title">
        <h2 class="block-title">Edit Development Management</h2>
      </td>
      <td class="page-block-button">
        <%= link_submit t(:save),{:class=>"btn btn-primary"}%>
        <% if @return_url%>
          <%= link_to t(:cancel), @return_url,{:class=>"btn cancel"}%>
        <% else %>
          <%= link_back t(:cancel),{},{:class=>"btn cancel"}%>
        <% end %>
      </td>
    </tr></table>
    <%= error_for @dev_management %>
    <div class="page-block-body">
      <div class="sub-page-block">
        <div class="sub-page-block-header">
          <h3 class="sub-page-block-title">Basic Info.</h3>
          <span class="required-help-info"> = <%=t(:label_is_required)%></span>
        </div>
        <div class="sub-page-block-body">
          <%= content_for :dev_management %>
        </div>
      </div>

      <div class="sub-page-block">
        <div class="sub-page-block-header">
          <h3 class="sub-page-block-title">功能设计</h3>
        </div>
        <div class="sub-page-block-body">
          <%= content_for :fun_des %>
        </div>
      </div>

      <div class="sub-page-block">
        <div class="sub-page-block-header">
          <h3 class="sub-page-block-title">技术开发</h3>
        </div>
        <div class="sub-page-block-body">
          <%= content_for :tec_dev %>
        </div>
      </div>

      <div class="sub-page-block">
        <div class="sub-page-block-header">
          <h3 class="sub-page-block-title">功能测试</h3>
        </div>
        <div class="sub-page-block-body">
          <%= content_for :fun_tes %>
        </div>
      </div>

      <div class="sub-page-block">
        <div class="sub-page-block-header">
          <h3 class="sub-page-block-title">Review</h3>
        </div>
        <div class="sub-page-block-body">
          <%= content_for :review %>
        </div>
      </div>

    </div>

    <table class="page-block-footer"><tr>
      <td class="page-block-title">
      </td>
      <td class="page-block-button">
        <%= link_submit t(:save),{:class=>"btn btn-primary"}%>
        <% if @return_url%>
          <%= link_to t(:cancel), @return_url,{:class=>"btn cancel"}%>
        <% else %>
          <%= link_back t(:cancel),{},{:class=>"btn cancel"}%>
        <% end %>
      </td>
    </tr></table>
  </div>

<% end %>