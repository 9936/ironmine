<%= form_for(@object_attribute, :url => {:action => "update"}, :builder => CustomFormBuilder) do |f| %>

    <% content_for :form_block_a do %>
        <table class="form-table">
          <tbody>
          <tr>
            <td class="label-col">
              <label for="object_attribute_name"><%= t(:label_irm_object_attribute_name) %></label>
            </td>
            <td class="data-col">
              <%= f.text_field :name, :required => true, :id => "object_attribute_name" %>
              <%= f.hidden_field(:category) %>
            </td>
            <td class="label-col empty">&nbsp;</td>
            <td class="data-col empty">&nbsp;</td>
          </tr>
          <tr>
            <td class="label-col">
              <label for="object_attribute_attribute_name"><%= t(:label_irm_object_attribute_attribute_name) %></label>
            </td>
            <td class="data-col"><label><%= @object_attribute.attribute_name %></label></td>
            <td class="label-col empty">&nbsp;</td>
            <td class="data-col empty">&nbsp;</td>
          </tr>
          <% if @object_attribute.category.present?&&["PICK_LIST", "PICK_LIST_MULTI"].include?(@object_attribute.category) %>
            <tr>
              <td class="label-col">
                <label for="object_attribute_pick_list_options"><%= t(:label_irm_object_attribute_pick_list_options) %></label>
              </td>
              <td class="data-col"><%= f.text_area :pick_list_options, :required => true, :size => "20x10", :id => "object_attribute_pick_list_options" %></td>
              <td class="label-col empty">&nbsp;</td>
              <td class="data-col empty">&nbsp;</td>
            </tr>
          <% end %>
          <tr>
            <td class="label-col">
              <label for="object_attribute_data_default_value"><%= t(:label_irm_object_attribute_data_default_value) %></label>
            </td>
            <td class="data-3col" colspan="3">
              <%= attribute_default_value(@object_attribute.category, f) %>
              <span class="help-block"></span>
            </td>
          </tr>
          <% if @object_attribute.category.present?&&["TEXT","NUMBER"].include?(@object_attribute.category) %>
            <tr>
              <td class="label-col"><label for="object_attribute_data_min_and_max_length"><%=t(:label_irm_object_attribute_data_min_and_max_length)%></label></td>
              <td class="data-3col" colspan="3">
                <%=f.text_field :min_length, :class => "input-mini" ,:id=>"object_attribute_data_min_length",:irm_number_only => true %>
                <label> ~ </label>
                <%=f.text_field :max_length, :class => "input-mini" ,:id=>"object_attribute_data_max_length",:irm_number_only => true %>
                <span class="help-block"><%= t(:label_irm_object_attribute_data_length_help_text) %></span>
              </td>
            </tr>
          <% end %>
          <tr>
            <td class="label-col">
              <label for="object_attribute_required_flag"><%= t(:label_irm_object_attribute_required_flag) %></label>
            </td>
            <td class="data-col"><%= f.check_box(:required_flag, :id => "object_attribute_required_flag") %></td>
            <td class="label-col empty">&nbsp;</td>
            <td class="data-col empty">&nbsp;</td>
          </tr>
          <tr>
            <td class="label-col"><label><%=(t :label_irm_external_system_status_meaning)%></label></td>
            <td class="data-col">
              <%=f.select(:status_code, available_custom_attributes_status, :required => true) %>
            </td>
            <td class="label-col empty">&nbsp;</td>
            <td class="data-col empty">&nbsp;</td>
          </tr>
          <tr>
            <td class="label-col">
              <label for="object_attribute_description"><%= t(:label_irm_object_attribute_description) %></label></td>
            <td class="data-3col" colspan="3"><%= f.text_area :description, :rows => "3", :class => "input-xlarge" , :id => "object_attribute_description" %></td>
          </tr>
          </tbody>
        </table>
    <% end %>


    <% content_for :form_buttons do %>
        <%= link_submit t(:save), {:class => "btn btn-primary"} %>
        <%= link_back t(:cancel), {}, {:class => "btn cancel"} %>
    <% end %>



    <!--页面结构-->
    <div class="page-block">
      <table class="page-block-header">
        <tr>
          <td class="page-block-title">
            <h2 class="block-title">
              <%= t(:label_irm_object_attribute_edit) %>
            </h2>
          </td>
          <td class="page-block-button">
            <%= content_for :form_buttons %>

          </td>
          <td class="page-block-help">
          </td>
        </tr>
      </table>
      <div class="page-block-body">
        <%= error_for @object_attribute %>
        <div class="sub-page-block">
          <div class="sub-page-block-header">
            <%= form_require_info %>
            <h3 class="sub-page-block-title"><%= t(:label_common_info) %></h3>
          </div>
          <div class="sub-page-block-body">
            <%= content_for :form_block_a %>
          </div>
        </div>
      </div>

      <table class="page-block-footer">
        <tr>
          <td class="page-block-title">
          </td>
          <td class="page-block-button">
            <%= content_for :form_buttons %>
          </td>
        </tr>
      </table>
    </div>

<% end %>
