<%=datatable_view({:count=>@count,:datas=>@datas}) do |builder|%>
  <% builder.column(:id,{:title=>t(:operation), :width => "80px"}) do |data|%>
    <%= link_to(t(:edit),{:action=>"edit",:id=>data[:id]}) %>&nbsp;
    <%= link_to(t(:label_irm_sales_opportunity_sales_communicate),{:action=>"show",:id=>data[:id]}) %>
  <% end %>
    <% builder.column(:name, {:title => t(:name), :searchable => true}) %>
    <% builder.column(:charge_person, {:title => t(:label_irm_sales_opportunity_charge_person)}) do |data| %>
        <%= charge_person_name(data.charge_person) %>
    <% end %>
    <% builder.column(:potential_customer, {:title => t(:label_irm_sales_opportunity_customer)})%>
    <% builder.column(:price, {:title => t(:label_irm_sales_opportunity_sales_price)})%>
    <% builder.column(:start_at, {:title => t(:label_irm_sales_opportunity_sales_start_at)})%>
    <% builder.column(:sales_status, {:title => t(:label_irm_sales_opportunity_sales_status)})%>
    <% builder.column(:possibility, {:title => t(:label_irm_sales_opportunity_sales_possibility)})%>
    <% builder.column(:progress, {:title => t(:label_irm_sales_opportunity_sales_progress)})%>
  <% end %>