YUI.add("charts",function(b){var i,d=document.createElement("canvas");if(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")){i="svg";}else{if(d&&d.getContext&&d.getContext("2d")){i="canvas";}else{i="vml";}}var t=function(B){this.initializer.apply(this,arguments);};t.prototype={autoSize:true,initializer:function(C){C=C||{};var B=C.width||0,D=C.height||0;if(C.node){this.node=C.node;this._styleGroup(this.node);}else{this.node=this._createGraphics();this.setSize(B,D);}this._initProps();},beginBitmapFill:function(B){var C={};C.src=B.bitmap.src;C.type="tile";this._fillProps=C;if(!isNaN(B.tx)||!isNaN(B.ty)||!isNaN(B.width)||!isNaN(B.height)){this._gradientBox={tx:B.tx,ty:B.ty,width:B.width,height:B.height};}else{this._gradientBox=null;}},beginFill:function(B,C){if(B){this._fillAlpha=b.Lang.isNumber(C)?C:1;this._fillColor=B;this._fillType="solid";this._fill=1;}return this;},beginGradientFill:function(C){var B=C.alphas||[];if(!this._defs){this._defs=this._createGraphicNode("defs");this.node.appendChild(this._defs);}this._fillAlphas=B;this._fillColors=C.colors;this._fillType=C.type||"linear";this._fillRatios=C.ratios||[];this._fillRotation=C.rotation||0;this._fillWidth=C.width||null;this._fillHeight=C.height||null;this._fillX=!isNaN(C.tx)?C.tx:NaN;this._fillY=!isNaN(C.ty)?C.ty:NaN;this._gradientId="lg"+Math.round(100000*Math.random());return this;},destroy:function(){this._removeChildren(this.node);if(this.node&&this.node.parentNode){this.node.parentNode.removeChild(this.node);}},_removeChildren:function(B){if(B.hasChildNodes()){var C;while(B.firstChild){C=B.firstChild;this._removeChildren(C);B.removeChild(C);}}},toggleVisible:function(B){this._toggleVisible(this.node,B);},_toggleVisible:function(F,G){var E=b.Selector.query(">/*",F),C=G?"visible":"hidden",D=0,B;if(E){B=E.length;for(;D<B;++D){this._toggleVisible(E[D],G);}}F.style.visibility=C;},clear:function(){if(this._graphicsList){while(this._graphicsList.length>0){this.node.removeChild(this._graphicsList.shift());}}this.path="";},curveTo:function(D,C,F,E,B,G){this._shapeType="path";if(this.path.indexOf("C")<0||this._pathType!=="C"){this._pathType="C";this.path+=" C";}this.path+=Math.round(D)+", "+Math.round(C)+", "+Math.round(F)+", "+Math.round(E)+", "+B+", "+G+" ";this._trackSize(B,G);},quadraticCurveTo:function(D,C,B,E){if(this.path.indexOf("Q")<0||this._pathType!=="Q"){this._pathType="Q";this.path+=" Q";}this.path+=Math.round(D)+" "+Math.round(C)+" "+Math.round(B)+" "+Math.round(E);},drawCircle:function(B,D,C){this._shape={x:B-C,y:D-C,w:C*2,h:C*2};this._attributes={cx:B,cy:D,r:C};this._width=this._height=C*2;this._x=B-C;this._y=D-C;this._shapeType="circle";this._draw();},drawEllipse:function(B,E,C,D){this._shape={x:B,y:E,w:C,h:D};this._width=C;this._height=D;this._x=B;this._y=E;this._shapeType="ellipse";this._draw();},drawRect:function(B,E,C,D){this._shape={x:B,y:E,w:C,h:D};this._x=B;this._y=E;this._width=C;this._height=D;this.moveTo(B,E);this.lineTo(B+C,E);this.lineTo(B+C,E+D);this.lineTo(B,E+D);this.lineTo(B,E);this._draw();},drawRoundRect:function(B,G,C,E,D,F){this._shape={x:B,y:G,w:C,h:E};this._x=B;this._y=G;this._width=C;this._height=E;this.moveTo(B,G+F);this.lineTo(B,G+E-F);this.quadraticCurveTo(B,G+E,B+D,G+E);this.lineTo(B+C-D,G+E);this.quadraticCurveTo(B+C,G+E,B+C,G+E-F);this.lineTo(B+C,G+F);this.quadraticCurveTo(B+C,G,B+C-D,G);this.lineTo(B+D,G);this.quadraticCurveTo(B,G,B,G+F);this._draw();},drawWedge:function(D,G,F,E,C,B){this._drawingComplete=false;this.path=this._getWedgePath({x:D,y:G,startAngle:F,arc:E,radius:C,yRadius:B});this._width=C*2;this._height=this._width;this._shapeType="path";this._draw();},end:function(){if(this._shapeType){this._draw();}this._initProps();},lineGradientStyle:function(){},lineStyle:function(E,D,I,G,F,H,B,C){this._stroke=1;this._strokeWeight=E;if(D){this._strokeColor=D;}this._strokeAlpha=b.Lang.isNumber(I)?I:1;},lineTo:function(G,F,D){var C=arguments,E,B;if(typeof G==="string"||typeof G==="number"){C=[[G,F]];}B=C.length;this._shapeType="path";if(this.path.indexOf("L")<0||this._pathType!=="L"){this._pathType="L";this.path+=" L";}for(E=0;E<B;++E){this.path+=C[E][0]+", "+C[E][1]+" ";this._trackSize.apply(this,C[E]);}},moveTo:function(B,C){this._pathType="M";this.path+=" M"+B+", "+C;},_getWedgePath:function(U){var K=U.x,I=U.y,P=U.startAngle,H=U.arc,D=U.radius,E=U.yRadius||D,O,M,G,T,F,L,J,S,R,C,B,Q=0,N=" M"+K+", "+I;if(Math.abs(H)>360){H=360;}O=Math.ceil(Math.abs(H)/45);M=H/O;G=-(M/180)*Math.PI;T=(P/180)*Math.PI;if(O>0){L=K+Math.cos(P/180*Math.PI)*D;J=I+Math.sin(P/180*Math.PI)*E;N+=" L"+Math.round(L)+", "+Math.round(J);N+=" Q";for(;Q<O;++Q){T+=G;F=T-(G/2);S=K+Math.cos(T)*D;R=I+Math.sin(T)*E;C=K+Math.cos(F)*(D/Math.cos(G/2));B=I+Math.sin(F)*(E/Math.cos(G/2));N+=Math.round(C)+" "+Math.round(B)+" "+Math.round(S)+" "+Math.round(R)+" ";}N+=" L"+K+", "+I;}return N;},setSize:function(B,C){if(this.autoSize){if(B>this.node.getAttribute("width")){this.node.setAttribute("width",B);}if(C>this.node.getAttribute("height")){this.node.setAttribute("height",C);}}},_trackSize:function(B,C){if(B>this._width){this._width=B;}if(C>this._height){this._height=C;}this.setSize(B,C);},setPosition:function(B,C){this.node.setAttribute("x",B);this.node.setAttribute("y",C);},render:function(B){var C=B.get("width")||B.get("offsetWidth"),D=B.get("height")||B.get("offsetHeight");B=B||b.config.doc.body;B.appendChild(this.node);this.setSize(C,D);this._initProps();return this;},_initProps:function(){this._shape=null;this._fillColor=null;this._strokeColor=null;this._strokeWeight=0;this._fillProps=null;this._fillAlphas=null;this._fillColors=null;this._fillType=null;this._fillRatios=null;this._fillRotation=null;this._fillWidth=null;this._fillHeight=null;this._fillX=NaN;this._fillY=NaN;this.path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;this._pathType=null;this._attributes={};},_clearPath:function(){this._shape=null;this._shapeType=null;this.path="";
this._width=0;this._height=0;this._x=0;this._y=0;this._pathType=null;this._attributes={};},_draw:function(){var C=this._createGraphicNode(this._shapeType),D,B;if(this.path){if(this._fill){this.path+="z";}C.setAttribute("d",this.path);}else{for(D in this._attributes){if(this._attributes.hasOwnProperty(D)){C.setAttribute(D,this._attributes[D]);}}}C.setAttribute("stroke-width",this._strokeWeight);if(this._strokeColor){C.setAttribute("stroke",this._strokeColor);C.setAttribute("stroke-opacity",this._strokeAlpha);}if(!this._fillType||this._fillType==="solid"){if(this._fillColor){C.setAttribute("fill",this._fillColor);C.setAttribute("fill-opacity",this._fillAlpha);}else{C.setAttribute("fill","none");}}else{if(this._fillType==="linear"){B=this._getFill();B.setAttribute("id",this._gradientId);this._defs.appendChild(B);C.setAttribute("fill","url(#"+this._gradientId+")");}}this.node.appendChild(C);this._clearPath();},_getFill:function(){var B=this._fillType,C;switch(B){case"linear":C=this._getLinearGradient("fill");break;case"radial":break;case"bitmap":break;}return C;},_getLinearGradient:function(G){var U=this._createGraphicNode("linearGradient"),F="_"+G,L=this[F+"Colors"],O=this[F+"Ratios"],J=this[F+"Alphas"],M=this._fillWidth||(this._shape.w),X=this._fillHeight||(this._shape.h),Q=this[F+"Rotation"],V,S,T,K,H,N,R,Y,W,E,C,D=M/2,B=X/2,I,P;I=Math.PI/180;P=parseFloat(parseFloat(Math.tan(Q*I)).toFixed(8));if(Math.abs(P)*M/2>=X/2){if(Q<180){E=0;C=X;}else{E=X;C=0;}Y=D-((B-E)/P);W=D-((B-C)/P);}else{if(Q>90&&Q<270){Y=M;W=0;}else{Y=0;W=M;}E=((P*(D-Y))-B)*-1;C=((P*(D-W))-B)*-1;}U.setAttribute("gradientTransform","rotate("+Q+")");U.setAttribute("width",M);U.setAttribute("height",X);U.setAttribute("gradientUnits","userSpaceOnUse");S=L.length;N=0;for(V=0;V<S;++V){H=J[V];T=L[V];K=O[V]||V/(S-1);K=Math.round(K*100)+"%";H=b.Lang.isNumber(H)?H:"1";N=(V+1)/S;R=this._createGraphicNode("stop");R.setAttribute("offset",K);R.setAttribute("stop-color",T);R.setAttribute("stop-opacity",H);U.appendChild(R);}return U;},_createGraphics:function(){var B=this._createGraphicNode("svg");this._styleGroup(B);return B;},_styleGroup:function(B){B.style.position="absolute";B.style.top="0px";B.style.overflow="visible";B.style.left="0px";B.setAttribute("pointer-events","none");},_createGraphicNode:function(D,B){var E=document.createElementNS("http://www.w3.org/2000/svg","svg:"+D),C=B||"none";if(D!=="defs"&&D!=="stop"&&D!=="linearGradient"){E.setAttribute("pointer-events",C);}if(D!="svg"){if(!this._graphicsList){this._graphicsList=[];}this._graphicsList.push(E);}return E;},getShape:function(B){B.graphic=this;return new b.Shape(B);}};b.Graphic=t;function l(){this.initializer.apply(this,arguments);}l.prototype={initializer:function(B){this._dummy=this._createDummy();this._canvas=this._createGraphic();this._context=this._canvas.getContext("2d");this._initProps();},beginBitmapFill:function(B){var C=this._context,E=B.bitmap,D=B.repeat||"repeat";this._fillWidth=B.width||null;this._fillHeight=B.height||null;this._fillX=!isNaN(B.tx)?B.tx:NaN;this._fillY=!isNaN(B.ty)?B.ty:NaN;this._fillType="bitmap";this._bitmapFill=C.createPattern(E,D);return this;},beginFill:function(B,D){var C=this._context;C.beginPath();if(B){if(D){B=this._2RGBA(B,D);}else{B=this._2RGB(B);}this._fillColor=B;this._fillType="solid";}return this;},beginGradientFill:function(F){var E,H,G=0,D=F.colors,C=F.alphas||[],B=D.length;this._fillAlphas=C;this._fillColors=D;this._fillType=F.type||"linear";this._fillRatios=F.ratios||[];this._fillRotation=F.rotation||0;this._fillWidth=F.width||null;this._fillHeight=F.height||null;this._fillX=!isNaN(F.tx)?F.tx:NaN;this._fillY=!isNaN(F.ty)?F.ty:NaN;for(;G<B;++G){H=C[G];E=D[G];if(H){E=this._2RGBA(E,H);}else{E=this._2RGB(E);}D[G]=E;}this._context.beginPath();return this;},lineStyle:function(I,F,E,H,J,D,B,G){F=F||"#000000";var C=this._context;if(this._stroke){C.stroke();}C.lineWidth=I;if(I){this._stroke=1;}else{this._stroke=0;}if(F){this._strokeStyle=F;if(E){this._strokeStyle=this._2RGBA(this._strokeStyle,E);}}if(!this._fill){C.beginPath();}if(D==="butt"){D="none";}if(C.lineCap){}this._drawingComplete=false;return this;},lineTo:function(H,G,D){var C=arguments,F=this._context,E,B;if(typeof H==="string"||typeof H==="number"){C=[[H,G]];}for(E=0,B=C.length;E<B;++E){F.lineTo(C[E][0],C[E][1]);this._updateShapeProps.apply(this,C[E]);this._trackSize.apply(this,C[E]);}this._drawingComplete=false;return this;},moveTo:function(B,C){this._context.moveTo(B,C);this._trackPos(B,C);this._updateShapeProps(B,C);this._drawingComplete=false;return this;},clear:function(){this._initProps();this._canvas.width=this._canvas.width;this._canvas.height=this._canvas.height;return this;},curveTo:function(D,C,F,E,B,G){this._context.bezierCurveTo(D,C,F,E,B,G);this._drawingComplete=false;this._updateShapeProps(B,G);this._trackSize(B,G);this._trackPos(B,G);return this;},quadraticCurveTo:function(D,C,B,E){this._context.quadraticCurveTo(D,C,B,E);this._drawingComplete=false;this._updateShapeProps(B,E);return this;},drawCircle:function(C,G,B){var F=this._context,E=0,D=2*Math.PI;this._shape={x:C-B,y:G-B,w:B*2,h:B*2};this._drawingComplete=false;this._trackPos(C,G);this._trackSize(B*2,B*2);F.beginPath();F.arc(C,G,B,E,D,false);this._draw();return this;},drawEllipse:function(M,K,N,S){this._shape={x:M,y:K,w:N,h:S};if(this._stroke&&this._context.lineWidth>0){N-=this._context.lineWidth*2;S-=this._context.lineWidth*2;M+=this._context.lineWidth;K+=this._context.lineWidth;}var C=this._context,P=8,H=-(45/180)*Math.PI,U=0,G,E=N/2,F=S/2,Q=0,J=M+E,I=K+F,O,L,T,R,D,B;this._drawingComplete=false;this._trackPos(M,K);this._trackSize(M+N,K+S);C.beginPath();O=J+Math.cos(0)*E;L=I+Math.sin(0)*F;C.moveTo(O,L);for(;Q<P;Q++){U+=H;G=U-(H/2);T=J+Math.cos(U)*E;R=I+Math.sin(U)*F;D=J+Math.cos(G)*(E/Math.cos(H/2));B=I+Math.sin(G)*(F/Math.cos(H/2));C.quadraticCurveTo(D,B,T,R);}this._draw();return this;},drawRect:function(B,F,D,E){var C=this._context;this._shape={x:B,y:F,w:D,h:E};this._drawingComplete=false;C.beginPath();
C.moveTo(B,F);C.lineTo(B+D,F);C.lineTo(B+D,F+E);C.lineTo(B,F+E);C.lineTo(B,F);this._trackPos(B,F);this._trackSize(D,E);this._draw();return this;},drawRoundRect:function(B,H,D,F,E,G){this._shape={x:B,y:H,w:D,h:F};var C=this._context;this._drawingComplete=false;C.beginPath();C.moveTo(B,H+G);C.lineTo(B,H+F-G);C.quadraticCurveTo(B,H+F,B+E,H+F);C.lineTo(B+D-E,H+F);C.quadraticCurveTo(B+D,H+F,B+D,H+F-G);C.lineTo(B+D,H+G);C.quadraticCurveTo(B+D,H,B+D-E,H);C.lineTo(B+E,H);C.quadraticCurveTo(B,H,B,H+G);this._trackPos(B,H);this._trackSize(D,F);this._draw();return this;},drawWedge:function(E){var L=E.x,J=E.y,P=E.startAngle,I=E.arc,D=E.radius,F=E.yRadius,O,N,H,T,G,M,K,S,R,C,B,Q=0;this._drawingComplete=false;this.moveTo(L,J);F=F||D;if(Math.abs(I)>360){I=360;}O=Math.ceil(Math.abs(I)/45);N=I/O;H=-(N/180)*Math.PI;T=(P/180)*Math.PI;if(O>0){M=L+Math.cos(P/180*Math.PI)*D;K=J+Math.sin(P/180*Math.PI)*F;this.lineTo(M,K);for(;Q<O;++Q){T+=H;G=T-(H/2);S=L+Math.cos(T)*D;R=J+Math.sin(T)*F;C=L+Math.cos(G)*(D/Math.cos(H/2));B=J+Math.sin(G)*(F/Math.cos(H/2));this.quadraticCurveTo(C,B,S,R);}this.lineTo(L,J);}this._trackPos(L,J);this._trackSize(D,D);this._draw();},end:function(){this._draw();this._initProps();return this;},lineGradientStyle:function(){return this;},setSize:function(B,C){this._canvas.width=B;this._canvas.height=C;},_initProps:function(){var B=this._context;B.fillStyle="rgba(0, 0, 0, 1)";B.lineWidth=1;B.lineJoin="miter";B.miterLimit=3;this._strokeStyle="rgba(0, 0, 0, 1)";this._width=0;this._height=0;this._x=0;this._y=0;this._fillType=null;this._stroke=null;this._bitmapFill=null;this._drawingComplete=false;},_getFill:function(){var B=this._fillType,C;switch(B){case"linear":C=this._getLinearGradient("fill");break;case"radial":C=this._getRadialGradient("fill");break;case"bitmap":C=this._bitmapFill;break;case"solid":C=this._fillColor;break;}return C;},_getLinearGradient:function(G){var F="_"+G,L=this[F+"Colors"],P=this[F+"Ratios"],M=!isNaN(this._fillX)?this._fillX:this._shape.x,K=!isNaN(this._fillY)?this._fillY:this._shape.y,N=this._fillWidth||(this._shape.w),X=this._fillHeight||(this._shape.h),S=this._context,R=this[F+"Rotation"],V,T,U,J,O,I,Y,W,E,C,D=M+N/2,B=K+X/2,H=Math.PI/180,Q=parseFloat(parseFloat(Math.tan(R*H)).toFixed(8));if(Math.abs(Q)*N/2>=X/2){if(R<180){E=K;C=K+X;}else{E=K+X;C=K;}Y=D-((B-E)/Q);W=D-((B-C)/Q);}else{if(R>90&&R<270){Y=M+N;W=M;}else{Y=M;W=M+N;}E=((Q*(D-Y))-B)*-1;C=((Q*(D-W))-B)*-1;}I=S.createLinearGradient(Y,E,W,C);T=L.length;O=0;for(V=0;V<T;++V){U=L[V];J=P[V]||V/(T-1);I.addColorStop(J,U);O=(V+1)/T;}return I;},_getRadialGradient:function(K){var C="_"+K,B=this[C+"Colors"],H=this[C+"Ratios"],G,E,O=this._fillWidth||this._shape.w,I=this._fillHeight||this._shape.h,M=!isNaN(this._fillX)?this._fillX:this._shape.x,L=!isNaN(this._fillY)?this._fillY:this._shape.y,F,J,D,N,P=this._context;M+=O/2;L+=I/2;N=P.createRadialGradient(M,L,1,M,L,O/2);E=B.length;D=0;for(G=0;G<E;++G){F=B[G];J=H[G]||G/(E-1);N.addColorStop(J,F);}return N;},_draw:function(){if(this._drawingComplete||!this._shape){return;}var B=this._context,C;if(this._fillType){C=this._getFill();if(C){B.fillStyle=C;}B.closePath();}if(this._fillType){B.fill();}if(this._stroke){B.strokeStyle=this._strokeStyle;B.stroke();}this._drawingComplete=true;},_drawingComplete:false,_reHex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,_2RGBA:function(C,B){B=(B!==undefined)?B:1;if(this._reHex.exec(C)){C="rgba("+[parseInt(RegExp.$1,16),parseInt(RegExp.$2,16),parseInt(RegExp.$3,16)].join(",")+","+B+")";}return C;},_createDummy:function(){var B=b.config.doc.createElement("div");B.style.height=0;B.style.width=0;B.style.overflow="hidden";b.config.doc.documentElement.appendChild(B);return B;},_createGraphic:function(B){var C=b.config.doc.createElement("canvas");C.width=600;C.height=600;return C;},_2RGB:function(B){this._dummy.style.background=B;return this._dummy.style.backgroundColor;},_trackSize:function(B,C){if(B>this._width){this._width=B;}if(C>this._height){this._height=C;}},_trackPos:function(B,C){if(B>this._x){this._x=B;}if(C>this._y){this._y=C;}},_updateShapeProps:function(B,E){var C,D;if(!this._shape){this._shape={};}if(!this._shape.x){this._shape.x=B;}else{this._shape.x=Math.min(this._shape.x,B);}if(!this._shape.y){this._shape.y=E;}else{this._shape.y=Math.min(this._shape.y,E);}C=Math.abs(B-this._shape.x);if(!this._shape.w){this._shape.w=C;}else{this._shape.w=Math.max(C,this._shape.w);}D=Math.abs(E-this._shape.y);if(!this._shape.h){this._shape.h=D;}else{this._shape.h=Math.max(D,this._shape.h);}},getShape:function(B){B.graphic=this;return new b.Shape(B);}};b.CanvasDrawingUtil=l;b.CanvasGraphic=b.Base.create("graphic",b.CanvasDrawingUtil,[],{autoSize:true,setSize:function(B,C){if(this.autoSize){if(B>this.node.getAttribute("width")){this.node.style.width=B+"px";this._canvas.style.width=B+"px";this._canvas.width=B;this.node.setAttribute("width",B);}if(C>this.node.getAttribute("height")){this.node.style.height=C+"px";this._canvas.style.height=C+"px";this._canvas.height=C;this.node.setAttribute("height",C);}}},_trackSize:function(B,C){if(B>this._width){this._width=B;}if(C>this._height){this._height=C;}this.setSize(B,C);},setPosition:function(B,C){this.node.style.left=B+"px";this.node.style.top=C+"px";},render:function(B){B=B||b.config.doc.body;this.node=document.createElement("div");this.node.style.width=B.offsetWidth+"px";this.node.style.height=B.offsetHeight+"px";this.node.style.display="block";this.node.style.position="absolute";this.node.style.left=B.getStyle("left");this.node.style.top=B.getStyle("top");this.node.style.pointerEvents="none";B.appendChild(this.node);this.node.appendChild(this._canvas);this._canvas.width=B.offsetWidth>0?B.offsetWidth:100;this._canvas.height=B.offsetHeight>0?B.offsetHeight:100;this._canvas.style.position="absolute";return this;},toggleVisible:function(B){this.node.style.visibility=B?"visible":"hidden";},_createGraphicNode:function(B){var C=b.config.doc.createElement("canvas");C.style.pointerEvents=B||"none";if(!this._graphicsList){this._graphicsList=[];
}this._graphicsList.push(C);return C;},destroy:function(){this._removeChildren(this.node);if(this.node&&this.node.parentNode){this.node.parentNode.removeChild(this.node);}},_removeChildren:function(B){if(B.hasChildNodes()){var C;while(B.firstChild){C=B.firstChild;this._removeChildren(C);B.removeChild(C);}}},node:null});if(i=="canvas"){b.Graphic=b.CanvasGraphic;}var c=function(B){this.initializer.apply(this,arguments);};c.prototype={initializer:function(C){C=C||{};var B=C.width||0,D=C.height||0;this.node=this._createGraphics();this.setSize(B,D);this._initProps();},beginBitmapFill:function(B){var C={};C.src=B.bitmap.src;C.type="tile";this._fillProps=C;if(!isNaN(B.tx)||!isNaN(B.ty)||!isNaN(B.width)||!isNaN(B.height)){this._gradientBox={tx:B.tx,ty:B.ty,width:B.width,height:B.height};}else{this._gradientBox=null;}},beginFill:function(B,C){if(B){if(b.Lang.isNumber(C)){this._fillProps={type:"solid",opacity:C};}this._fillColor=B;this._fill=1;}return this;},beginGradientFill:function(D){var I=D.type,B=D.colors,C=D.alphas||[],G=D.ratios||[],L={colors:B,ratios:G},H=C.length,F=0,E,J,K=D.rotation||0;for(;F<H;++F){E=C[F];E=b.Lang.isNumber(E)?E:1;J=F>0?F+1:"";C[F]=Math.round(E*100)+"%";L["opacity"+J]=E;}if(I==="linear"){if(D){}if(K>0&&K<=90){K=450-K;}else{if(K<=270){K=270-K;}else{if(K<=360){K=630-K;}else{K=270;}}}L.type="gradientunscaled";L.angle=K;}else{if(I==="radial"){L.alignshape=false;L.type="gradientradial";L.focus="100%";L.focusposition="50%,50%";}}L.ratios=G||[];if(!isNaN(D.tx)||!isNaN(D.ty)||!isNaN(D.width)||!isNaN(D.height)){this._gradientBox={tx:D.tx,ty:D.ty,width:D.width,height:D.height};}else{this._gradientBox=null;}this._fillProps=L;},clear:function(){this._path="";this._removeChildren(this.node);},destroy:function(){this._removeChildren(this.node);this.node.parentNode.removeChild(this.node);},_removeChildren:function(B){if(B.hasChildNodes()){var C;while(B.firstChild){C=B.firstChild;this._removeChildren(C);B.removeChild(C);}}},toggleVisible:function(B){this._toggleVisible(this.node,B);},_toggleVisible:function(F,G){var E=b.one(F).get("children"),C=G?"visible":"hidden",D=0,B;if(E){B=E.length;for(;D<B;++D){this._toggleVisible(E[D],G);}}F.style.visibility=C;},curveTo:function(D,C,F,E,B,G){this._shape="shape";this._path+=" c "+Math.round(D)+", "+Math.round(C)+", "+Math.round(F)+", "+Math.round(E)+", "+B+", "+G;this._trackSize(B,G);},quadraticCurveTo:function(D,C,B,E){this._path+=" qb "+D+", "+C+", "+B+", "+E;},drawCircle:function(B,D,C){this._width=this._height=C*2;this._x=B-C;this._y=D-C;this._shape="oval";this._draw();},drawEllipse:function(B,E,C,D){this._width=C;this._height=D;this._x=B;this._y=E;this._shape="oval";this._draw();},drawRect:function(B,E,C,D){this._x=B;this._y=E;this._width=C;this._height=D;this.moveTo(B,E);this.lineTo(B+C,E);this.lineTo(B+C,E+D);this.lineTo(B,E+D);this.lineTo(B,E);this._draw();},drawRoundRect:function(B,G,C,E,D,F){this._x=B;this._y=G;this._width=C;this._height=E;this.moveTo(B,G+F);this.lineTo(B,G+E-F);this.quadraticCurveTo(B,G+E,B+D,G+E);this.lineTo(B+C-D,G+E);this.quadraticCurveTo(B+C,G+E,B+C,G+E-F);this.lineTo(B+C,G+F);this.quadraticCurveTo(B+C,G,B+C-D,G);this.lineTo(B+D,G);this.quadraticCurveTo(B,G,B,G+F);this._draw();},drawWedge:function(D,G,F,E,C,B){this._drawingComplete=false;this._width=C;this._height=C;B=B||C;this._path+=this._getWedgePath({x:D,y:G,startAngle:F,arc:E,radius:C,yRadius:B});this._width=C*2;this._height=this._width;this._shape="shape";this._draw();},_getWedgePath:function(E){var D=E.x,I=E.y,G=E.startAngle,F=E.arc,C=E.radius,B=E.yRadius||C,H;if(Math.abs(F)>360){F=360;}G*=-65535;F*=65536;H=" m "+D+" "+I+" ae "+D+" "+I+" "+C+" "+B+" "+G+" "+F;return H;},end:function(){if(this._shape){this._draw();}this._initProps();},lineGradientStyle:function(){},lineStyle:function(E,D,I,G,F,H,B,C){this._stroke=1;this._strokeWeight=E*0.7;this._strokeColor=D;this._strokeOpacity=b.Lang.isNumber(I)?I:1;},lineTo:function(G,F,D){var C=arguments,E,B;if(typeof G==="string"||typeof G==="number"){C=[[G,F]];}B=C.length;this._shape="shape";this._path+=" l ";for(E=0;E<B;++E){this._path+=" "+Math.round(C[E][0])+", "+Math.round(C[E][1]);this._trackSize.apply(this,C[E]);}},moveTo:function(B,C){this._path+=" m "+Math.round(B)+", "+Math.round(C);},setSize:function(B,C){B=Math.round(B);C=Math.round(C);this.node.style.width=B+"px";this.node.style.height=C+"px";this.node.coordSize=B+" "+C;this._canvasWidth=B;this._canvasHeight=C;},setPosition:function(B,C){B=Math.round(B);C=Math.round(C);this.node.style.left=B+"px";this.node.style.top=C+"px";},render:function(B){var C=Math.max(B.offsetWidth||0,this._canvasWidth),D=Math.max(B.offsetHeight||0,this._canvasHeight);B=B||b.config.doc.body;B.appendChild(this.node);this.setSize(C,D);this._initProps();return this;},_shape:null,_trackSize:function(B,C){if(B>this._width){this._width=B;}if(C>this._height){this._height=C;}},_initProps:function(){this._fillColor=null;this._strokeColor=null;this._strokeOpacity=null;this._strokeWeight=0;this._fillProps=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;},_clearPath:function(){this._shape=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;},_draw:function(){var D=this._createGraphicNode(this._shape),B=Math.round(this._width),E=Math.round(this._height),F,C=this._fillProps;this.setSize(B,E);if(this._path){if(this._fill||this._fillProps){this._path+=" x";}if(this._stroke){this._path+=" e";}D.path=this._path;D.coordSize=B+", "+E;}else{D.style.display="block";D.style.position="absolute";D.style.left=this._x+"px";D.style.top=this._y+"px";}if(this._fill){D.fillColor=this._fillColor;}else{D.filled=false;}if(this._stroke&&this._strokeWeight>0){D.strokeColor=this._strokeColor;D.strokeWeight=this._strokeWeight;if(b.Lang.isNumber(this._strokeOpacity)&&this._strokeOpacity<1){F=this._createGraphicNode("stroke");D.appendChild(F);F.opacity=this._strokeOpacity;}}else{D.stroked=false;}D.style.width=B+"px";D.style.height=E+"px";
if(C){D.filled=true;D.appendChild(this._getFill());}this.node.appendChild(D);this._clearPath();},_getFill:function(){var O=this._createGraphicNode("fill"),M=this._width,H=this._height,I=this._fillProps,C,N,F=0,B,L="",J,G,K=Math.sqrt(Math.pow(M,2)+Math.pow(H,2)),E=50,D=50;if(this._gradientBox){E=Math.round((this._gradientBox.width/2-((this._x-this._gradientBox.tx)*K/M))/(M*M/K)*100);D=Math.round((this._gradientBox.height/2-((this._y-this._gradientBox.ty)*K/H))/(H*H/K)*100);I.focussize=(this._gradientBox.width/M)/10+" "+(this._gradientBox.height/H)/10;}if(I.colors){B=I.colors.concat();G=I.ratios.concat();J=B.length;for(;F<J;++F){N=G[F]||F/(J-1);N=Math.round(100*N)+"%";L+=", "+N+" "+B[F];}if(parseInt(N,10)<100){L+=", 100% "+B[J-1];}}for(C in I){if(I.hasOwnProperty(C)){O.setAttribute(C,I[C]);}}O.colors=L.substr(2);if(I.type==="gradientradial"){O.focusposition=E+"%,"+D+"%";}return O;},_createGraphics:function(){var B=this._createGraphicNode("group");B.style.display="inline-block";B.style.position="absolute";return B;},_createGraphicNode:function(B){return document.createElement("<"+B+' xmlns="urn:schemas-microsft.com:vml" class="vml'+B+'"/>');},_getNodeShapeType:function(C){var B="shape";if(this._typeConversionHash.hasOwnProperty(C)){B=this._typeConversionHash[C];}return B;},_typeConversionHash:{circle:"oval",ellipse:"oval",rect:"rect"},getShape:function(B){B.graphic=this;return new b.Shape(B);},addChild:function(B){this.node.appendChild(B);}};if(i=="vml"){var h=document.createStyleSheet();h.addRule(".vmlgroup","behavior:url(#default#VML)",h.rules.length);h.addRule(".vmlgroup","display:inline-block",h.rules.length);h.addRule(".vmlgroup","zoom:1",h.rules.length);h.addRule(".vmlshape","behavior:url(#default#VML)",h.rules.length);h.addRule(".vmlshape","display:inline-block",h.rules.length);h.addRule(".vmloval","behavior:url(#default#VML)",h.rules.length);h.addRule(".vmloval","display:inline-block",h.rules.length);h.addRule(".vmlrect","behavior:url(#default#VML)",h.rules.length);h.addRule(".vmlrect","display:block",h.rules.length);h.addRule(".vmlfill","behavior:url(#default#VML)",h.rules.length);h.addRule(".vmlstroke","behavior:url(#default#VML)",h.rules.length);b.Graphic=c;}function m(B){this._initialize(B);this._draw();}b.extend(m,b.Graphic,{type:"shape",autoSize:false,pointerEvents:"visiblePainted",_initialize:function(B){if(!B.graphic){B.graphic=new b.Graphic();}this._setProps(B);},_setProps:function(B){this.autoSize=B.autoSize||this.autoSize;this.pointerEvents=B.pointerEvents||this.pointerEvents;this.width=B.width||this.width;this.height=B.height||this.height;this.border=B.border||this.border;this.graphics=B.graphic||this.graphics;this.canvas=this.graphics;this.parentNode=this.graphics.node;this.fill=B.fill||this.fill;this.type=B.shape||this.type;this.nodetype=this._getNodeShapeType(this.type);this.props=B.props||this.props;this.path=B.path||this.path;},_draw:function(){var C,I,F,E,B=this.parentNode,G=0,D=this.width||0,H=this.height||0;if(!this.node){this.node=this._createGraphicNode(this.nodetype,this.pointerEvents);B.appendChild(this.node);}if(this.nodetype=="path"){if(this.type=="wedge"){this.path=this._getWedgePath(this.props);}this._setPath();}if(this.border&&this.border.weight&&this.border.weight>0){G=this.border.weight;D-=G*2;H-=G*2;}this._addBorder();if(this.nodetype==="ellipse"){F=this.width/2;C=this.width/2;E=this.height/2;I=this.height/2;F-=G;E-=G;this.node.setAttribute("cx",C);this.node.setAttribute("cy",I);this.node.setAttribute("rx",F);this.node.setAttribute("ry",E);}else{this.node.setAttribute("width",D);this.node.setAttribute("height",H);this.node.style.width=D+"px";this.node.style.height=H+"px";}this._addFill();B.style.width=this.width+"px";B.style.height=this.height+"px";B.setAttribute("width",this.width);B.setAttribute("height",this.height);this.node.style.visibility="visible";this.node.setAttribute("x",G);this.node.setAttribute("y",G);return this;},_setPath:function(){if(this.path){this.path+=" Z";this.node.setAttribute("d",this.path);}},_addBorder:function(){if(this.border&&this.border.weight&&this.border.weight>0){var B=this.border.alpha;this.border.color=this.border.color||"#000000";this.border.weight=this.border.weight||1;this.border.alpha=b.Lang.isNumber(B)?B:1;this.border.linecap=this.border.linecap||"square";this.node.setAttribute("stroke",this.border.color);this.node.setAttribute("stroke-linecap",this.border.linecap);this.node.setAttribute("stroke-width",this.border.weight);this.node.setAttribute("stroke-opacity",this.border.alpha);}else{this.node.setAttribute("stroke","none");}},_addFill:function(){var B;if(this.fill.type==="linear"||this.fill.type==="radial"){this.beginGradientFill(this.fill);this.node.appendChild(this._getFill());}else{if(this.fill.type==="bitmap"){this.beginBitmapFill(this.fill);this.node.appendChild(this._getFill());}else{if(!this.fill.color){this.node.setAttribute("fill","none");}else{B=this.fill.alpha;this.fill.alpha=b.Lang.isNumber(B)?B:1;this.node.setAttribute("fill",this.fill.color);this.node.setAttribute("fill-opacity",B);}}}},end:function(){this._setPath();},update:function(B){this._setProps(B);this._draw();return this;},_getNodeShapeType:function(B){if(this._typeConversionHash.hasOwnProperty(B)){B=this._typeConversionHash[B];}return B;},toggleVisible:function(C){var B=C?"visible":"hidden";if(this.node){this.node.style.visibility=B;}},addClass:function(B){var C=this.node;if(C){if(C.className&&C.className.baseVal){C.className.baseVal=b.Lang.trim([C.className.baseVal,B].join(" "));}else{C.setAttribute("class",B);}}},_typeConversionHash:{circle:"ellipse",wedge:"path"}});b.Shape=m;function r(B){this._dummy=this._createDummy();this._canvas=this._createGraphic();this.node=this._canvas;this._context=this._canvas.getContext("2d");this._initialize(B);this._validate();}b.extend(r,b.CanvasDrawingUtil,{type:"shape",autoSize:false,_initialize:function(B){this._canvas.style.position="absolute";if(B.graphic){B.graphic.node.appendChild(this._canvas);}this._setProps(B);
},_setProps:function(B){this.autoSize=B.autoSize||this.autoSize;this.width=B.width||this.width;this.height=B.height||this.height;this.border=B.border||this.border;this.graphics=B.graphic||this.graphics;this.fill=B.fill||this.fill;this.type=B.shape||this.type;this.props=B.props||this.props;this.path=B.path||this.path;this.props=B.props||this.props;this.parentNode=this.graphics.node;},_validate:function(){var B=this.width,E=this.height,C=this.border,D=this.type,F=this.fill;this.clear();this.setSize(this.width,this.height);this._canvas.style.top="0px";this._canvas.style.left="0px";if(C&&C.weight&&C.weight>0){C.color=C.color||"#000";C.alpha=C.alpha||1;this.lineStyle(C.weight,C.color,C.alpha);}if(F.type==="radial"||F.type==="linear"){this.beginGradientFill(F);}else{if(F.type==="bitmap"){this.beginBitmapFill(F);}else{this.beginFill(F.color,F.alpha);}}switch(D){case"circle":this.drawEllipse(0,0,B,E);break;case"rect":this.drawRect(0,0,B,E);break;case"wedge":this.drawWedge(this.props);break;}return this;},update:function(B){this._setProps(B);this._validate();return this;},toggleVisible:function(C){var B=C?"visible":"hidden";if(this.node){this.node.style.visibility=B;}},addClass:function(B){if(this.node){this.node.style.pointerEvents="painted";this.node.setAttribute("class",B);}}});b.CanvasShape=r;if(i=="canvas"){b.Shape=b.CanvasShape;}function A(B){this._initialize(B);this._draw();}A.prototype={type:"shape",_initialize:function(B){if(!B.graphic){B.graphic=new b.Graphic();}this._setProps(B);},width:0,height:0,_setProps:function(B){this.width=B.width&&B.width>=0?B.width:this.width;this.height=B.height&&B.height>=0?B.height:this.height;this.border=B.border||this.border;this.graphics=B.graphic||this.graphics;this.canvas=this.graphics;this.parentNode=this.graphics.node;this.fill=B.fill||this.fill;this.type=B.shape||this.type;this.props=B.props||this.props;},_draw:function(){var C,D=0,B=this.width||0,E=this.height||0;this.graphics.setSize(B,E);if(this.node){this.node.style.visible="hidden";}else{if(!this.node){this.node=this.graphics._createGraphicNode(this.graphics._getNodeShapeType(this.type));this.graphics.node.appendChild(this.node);}}if(this.type==="wedge"){C=this.graphics._getWedgePath(this.props);if(this.fill){C+=" x";}if(this.border){C+=" e";}this.node.path=C;}this._addBorder();if(this.border&&this.border.weight&&this.border.weight>0){D=this.border.weight;B-=D;E-=D;}this.node.style.width=Math.max(B,0)+"px";this.node.style.height=Math.max(E,0)+"px";this._addFill();return this;},_addBorder:function(){if(this.border&&this.border.weight&&this.border.weight>0){var B=this.border.alpha,C=this.borderWeight;B=b.Lang.isNumber(B)?B:1;C=b.Lang.isNumber(C)?C:1;this.node.strokecolor=this.border.color||"#000000";this.node.strokeweight=C;if(B<1){if(!this._strokeNode){this._strokeNode=this.graphics._createGraphicNode("stroke");this.node.appendChild(this._strokeNode);}this._strokeNode.opacity=B;}else{if(this._strokeNode){this._strokeNode.opacity=B;}}this.node.stroked=true;}else{this.node.stroked=false;}},_addFill:function(){var B;this.node.filled=true;if(this.fill.type==="linear"||this.fill.type==="radial"){this.graphics.beginGradientFill(this.fill);this.node.appendChild(this.graphics._getFill());}else{if(this.fill.type==="bitmap"){this.graphics.beginBitmapFill(this.fill);this.node.appendChild(this.graphics._getFill());}else{if(!this.fill.color){this.node.filled=false;}else{if(this.fillnode){this.graphics._removeChildren(this.fillnode);}B=this.fill.alpha;B=b.Lang.isNumber(B)?B:1;this.fill.alpha=B;this.fillnode=this.graphics._createGraphicNode("fill");this.fillnode.type="solid";this.fillnode.color=this.fill.color;this.fillnode.opacity=B;this.node.appendChild(this.fillnode);}}}},addClass:function(C){var B=this.node;if(B){b.one(B).addClass(C);}},toggleVisible:function(C){var B=C?"visible":"hidden";if(this.node){b.one(this.node).setStyle("visibility",B);}},update:function(B){this._setProps(B);this._draw();return this;}};b.VMLShape=A;if(i=="vml"){b.Shape=A;}function u(){}u.ATTRS={styles:{getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(B){this._styles=this._setStyles(B);}},graphic:{}};u.NAME="renderer";u.prototype={_styles:null,_setStyles:function(C){var B=this.get("styles");return this._mergeStyles(C,B);},_mergeStyles:function(C,B){if(!B){B={};}var D=b.merge(B,{});b.Object.each(C,function(G,F,E){if(B.hasOwnProperty(F)&&b.Lang.isObject(G)&&!b.Lang.isArray(G)){D[F]=this._mergeStyles(G,B[F]);}else{D[F]=G;}},this);return D;},_getDefaultStyles:function(){return{padding:{top:0,right:0,bottom:0,left:0}};}};b.augment(u,b.Attribute);b.Renderer=u;b.Axis=b.Base.create("axis",b.Widget,[b.Renderer],{_dataChangeHandler:function(B){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(B){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(C){var B=this.get("position");if(B=="none"){return;}this._layout=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){var B=this.get("position");if(B&&B!="none"){this._layout=this.getLayout(B);this._setCanvas();}},syncUI:function(){this._drawAxis();},_setCanvas:function(){var B=this.get("contentBox"),G=this.get("boundingBox"),F=this.get("position"),D=this._parentNode,C=this.get("width"),E=this.get("height");G.setStyle("position","absolute");C=C?C+"px":D.getStyle("width");E=E?E+"px":D.getStyle("height");if(F==="top"||F==="bottom"){B.setStyle("width",C);}else{B.setStyle("height",E);}B.setStyle("position","relative");B.setStyle("left","0px");B.setStyle("top","0px");this.set("graphic",new b.Graphic());this.get("graphic").render(B);},_getDefaultStyles:function(){var B={majorTicks:{display:"inside",length:4,color:"#dad8c9",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#dad8c9",weight:1},line:{weight:1,color:"#dad8c9",alpha:1},majorUnit:{determinant:"count",count:11,distance:75},top:"0px",left:"0px",width:"100px",height:"100px",label:{color:"#808080",alpha:1,fontSize:"85%",rotation:0,margin:{top:4,right:4,bottom:4,left:4}},hideOverlappingLabelTicks:false};
return b.merge(b.Renderer.prototype._getDefaultStyles(),B);},_handleSizeChange:function(E){var D=E.attrName,G=this.get("position"),C=G=="left"||G=="right",B=this.get("contentBox"),F=G=="bottom"||G=="top";B.setStyle("width",this.get("width"));B.setStyle("height",this.get("height"));if((F&&D=="width")||(C&&D=="height")){this._drawAxis();}},_layout:null,getLayout:function(C){var B;switch(C){case"top":B=new b.TopAxisLayout({axisRenderer:this});break;case"bottom":B=new b.BottomAxisLayout({axisRenderer:this});break;case"left":B=new b.LeftAxisLayout({axisRenderer:this});break;case"right":B=new b.RightAxisLayout({axisRenderer:this});break;}return B;},drawLine:function(D,C,B){var E=this.get("graphic");E.lineStyle(B.weight,B.color,B.alpha);E.moveTo(D.x,D.y);E.lineTo(C.x,C.y);E.end();},_drawAxis:function(){if(this._drawing){this._callLater=true;return;}this._drawing=true;this._callLater=false;if(this.get("position")!="none"){var R=this.get("styles"),M=R.majorTicks,N=M.display!="none",E,L=R.majorUnit,K,P,G=0,C,H,J,Q,I=this._layout,F=this.get("labelFunction"),O=this.get("labelFunctionScope"),D=this.get("labelFormat"),B=this.get("graphic");B.clear();I.setTickOffsets();C=this.getLength();J=I.getLineStart();K=this.getTotalMajorUnits(L);P=this.getMajorUnitDistance(K,C,L);this.set("edgeOffset",this.getEdgeOffset(K,C)*0.5);E=this.getFirstPoint(J);this.drawLine(J,this.getLineEnd(E),R.line);if(N){I.drawTick(E,M);}if(K<1){this._clearLabelCache();return;}this._createLabelCache();this._tickPoints=[];I.set("maxLabelSize",0);for(;G<K;++G){if(N){I.drawTick(E,M);}H=this.getPosition(E);Q=this.getLabel(E);Q.innerHTML=F.apply(O,[this.getLabelByIndex(G,K),D]);E=this.getNextPoint(E,P);}this._clearLabelCache();I.setSizeAndPosition();if(this.get("overlapGraph")){I.offsetNodeForTick(this.get("contentBox"));}I.setCalculatedSize();for(G=0;G<K;++G){I.positionLabel(this.get("labels")[G],this._tickPoints[G]);}}this._drawing=false;if(this._callLater){this._drawAxis();}else{this.fire("axisRendered");}},_labels:null,_labelCache:null,getLabel:function(G,H){var D,C,E={rotation:"rotation",margin:"margin",alpha:"alpha"},B=this._labelCache,F=this.get("styles").label;if(B.length>0){C=B.shift();}else{C=document.createElement("span");C.style.display="block";C.style.whiteSpace="nowrap";b.one(C).addClass("axisLabel");this.get("contentBox").appendChild(C);}C.style.position="absolute";this._labels.push(C);this._tickPoints.push({x:G.x,y:G.y});this._layout.updateMaxLabelSize(C);for(D in F){if(F.hasOwnProperty(D)&&!E.hasOwnProperty(D)){C.style[D]=F[D];}}return C;},_createLabelCache:function(){if(this._labels){if(this._labelCache){this._labelCache=this._labels.concat(this._labelCache);}else{this._labelCache=this._labels.concat();}}else{this._clearLabelCache();}this._labels=[];},_clearLabelCache:function(){if(this._labelCache){var B=this._labelCache.length,D=0,C,E=this._labelCache;for(;D<B;++D){C=E[D];C.parentNode.removeChild(C);}}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(D){var B=this.get("width"),C=this.get("height"),E=this.get("position");if(E==="top"||E==="bottom"){return{x:B,y:D.y};}else{return{x:D.x,y:C};}},getLength:function(){var C,E=this.get("styles"),F=E.padding,B=this.get("width"),D=this.get("height"),G=this.get("position");if(G==="top"||G==="bottom"){C=B-(F.left+F.right);}else{C=D-(F.top+F.bottom);}return C;},getFirstPoint:function(E){var B=this.get("styles"),F=this.get("position"),D=B.padding,C={x:E.x,y:E.y};if(F==="top"||F==="bottom"){C.x+=D.left+this.get("edgeOffset");}else{C.y+=this.get("height")-(D.top+this.get("edgeOffset"));}return C;},getNextPoint:function(B,C){var D=this.get("position");if(D==="top"||D==="bottom"){B.x=B.x+C;}else{B.y=B.y-C;}return B;},getLastPoint:function(){var C=this.get("styles"),D=C.padding,B=this.get("width"),E=this.get("position");if(E==="top"||E==="bottom"){return{x:B-D.right,y:D.top};}else{return{x:D.left,y:D.top};}},getPosition:function(B){var G,E=this.get("height"),D=this.get("styles"),F=D.padding,H=this.get("position"),C=this.get("dataType");if(H==="left"||H==="right"){if(C==="numeric"){G=(E-(F.top+F.bottom))-(B.y-F.top);}else{G=B.y-F.top;}}else{G=B.x-F.left;}return G;}},{ATTRS:{edgeOffset:{value:0},graphic:{},node:{},position:{lazyAdd:false,setOnce:true,setter:function(B){if(B=="none"){this.bindUI();}return B;}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},labels:{readOnly:true,getter:function(){return this._labels;}},tickPoints:{readOnly:true,getter:function(){if(this.get("position")=="none"){return this.get("styles").majorUnit.count;}return this._tickPoints;}},overlapGraph:{value:true,validator:function(B){return b.Lang.isBoolean(B);}},labelFunctionScope:{}}});function o(B){o.superclass.constructor.apply(this,arguments);}o.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};b.extend(o,b.Base,{setTickOffsets:function(){var B=this.get("axisRenderer"),F=B.get("styles").majorTicks,D=F.length,C=D*0.5,E=F.display;B.set("topTickOffset",0);B.set("bottomTickOffset",0);switch(E){case"inside":B.set("rightTickOffset",D);B.set("leftTickOffset",0);break;case"outside":B.set("rightTickOffset",0);B.set("leftTickOffset",D);break;case"cross":B.set("rightTickOffset",C);B.set("leftTickOffset",C);break;default:B.set("rightTickOffset",0);B.set("leftTickOffset",0);break;}},drawTick:function(H,F){var C=this.get("axisRenderer"),D=C.get("styles"),G=D.padding,E=F.length,I={x:G.left,y:H.y},B={x:E+G.left,y:H.y};C.drawLine(I,B,F);},getLineStart:function(){var B=this.get("axisRenderer"),C=B.get("styles"),G=C.padding,H=C.majorTicks,D=H.length,F=H.display,E={x:G.left,y:0};if(F==="outside"){E.x+=D;}else{if(F==="cross"){E.x+=D/2;}}return E;},getLabelPoint:function(B){var C=this.get("axisRenderer");return{x:B.x-C.get("leftTickOffset"),y:B.y};},updateMaxLabelSize:function(M){var G=this.get("axisRenderer"),B=G.get("styles").label,D=Math.min(90,Math.max(-90,B.rotation)),H=Math.abs(D),K=Math.PI/180,N=parseFloat(parseFloat(Math.sin(H*K)).toFixed(8)),E=parseFloat(parseFloat(Math.cos(H*K)).toFixed(8)),J=E,I=D>0?-N:N,F=-I,C=J,L;
if(!document.createElementNS){M.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+J+" M12="+I+" M21="+F+" M22="+C+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),M.offsetWidth));}else{M.style.msTransform="rotate(0deg)";if(D===0){L=M.offsetWidth;}else{if(H===90){L=M.offsetHeight;}else{L=(E*M.offsetWidth)+(N*M.offsetHeight);}}this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),L));}},positionLabel:function(H,P){var O=this.get("axisRenderer"),S=O.get("styles").label,K=S.alpha,R,N=0,J=P.x,Q=P.y,I=Math.min(90,Math.max(-90,S.rotation)),C=Math.abs(I),E=Math.PI/180,M=parseFloat(parseFloat(Math.sin(C*E)).toFixed(8)),G=parseFloat(parseFloat(Math.cos(C*E)).toFixed(8)),V=G,U=I>0?-M:M,F=-U,D=V,L=this.get("maxLabelSize"),T=Math.round(H.offsetWidth),B=Math.round(H.offsetHeight);if(S.margin&&S.margin.right){N=S.margin.right;}if(!document.createElementNS){H.style.filter=null;T=Math.round(H.offsetWidth);B=Math.round(H.offsetHeight);if(I===0){J=T;Q-=H.offsetHeight*0.5;}else{if(C===90){J=H.offsetHeight;Q-=T*0.5;}else{if(I>0){J=(G*T)+(H.offsetHeight*I/90);Q-=(M*T)+(G*(H.offsetHeight*0.5));}else{J=(G*T)+(C/90*H.offsetHeight);Q-=G*(H.offsetHeight*0.5);}}}H.style.left=((P.x+L)-J)+"px";H.style.top=Q+"px";if(R){R+=" ";}if(b.Lang.isNumber(K)&&K<1&&K>-1&&!isNaN(K)){R="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(K*100)+")";}if(I!==0){if(R){R+=" ";}else{R="";}R+="progid:DXImageTransform.Microsoft.Matrix(M11="+V+" M12="+U+" M21="+F+" M22="+D+' sizingMethod="auto expand")';}if(R){H.style.filter=R;}return;}H.style.msTransform="rotate(0deg)";T=Math.round(T);B=Math.round(H.offsetHeight);if(I===0){J-=T;Q-=H.offsetHeight*0.5;}else{if(I===90){Q-=T*0.5;}else{if(I===-90){J-=H.offsetHeight;Q+=T*0.5;}else{if(I<0){J-=(G*T)+(M*H.offsetHeight);Q+=(M*T)-(G*(H.offsetHeight*0.6));}else{J-=(G*T);Q-=(M*T)+(G*(H.offsetHeight*0.6));}}}}H.style.left=(this.get("maxLabelSize")+J)+"px";H.style.top=Q+"px";H.style.MozTransformOrigin="0 0";H.style.MozTransform="rotate("+I+"deg)";H.style.webkitTransformOrigin="0 0";H.style.webkitTransform="rotate("+I+"deg)";H.style.msTransformOrigin="0 0";H.style.msTransform="rotate("+I+"deg)";H.style.OTransformOrigin="0 0";H.style.OTransform="rotate("+I+"deg)";},setSizeAndPosition:function(){var G=this.get("maxLabelSize"),E=this.get("axisRenderer"),C=E.get("styles"),J=C.line.weight,B=E.get("graphic"),H=C.majorTicks,I=H.display,D=H.length,F=C.label.margin;if(I==="inside"){J-=D;}else{if(I==="cross"){J-=D*0.5;}}if(F&&F.right){J+=F.right;}J+=G;J=Math.round(J);E.set("width",J);b.one(B.node).setStyle("left",J);},offsetNodeForTick:function(B){var D=this.get("axisRenderer"),F=D.get("styles"),I=F.majorTicks,C=F.line,G,E=I.length,H=I.display;if(C){G=C.weight||0;}if(H==="inside"){B.setStyle("left",(E-G)+"px");}else{if(H==="cross"){B.setStyle("left",(E*0.5)+"px");}else{B.setStyle("left",(0-G)+"px");}}},setCalculatedSize:function(){var C=this.get("axisRenderer"),D=C.get("styles").label,B=C.get("leftTickOffset")+this.get("maxLabelSize")+D.margin.right;C.set("width",Math.round(B));}});b.LeftAxisLayout=o;function s(B){s.superclass.constructor.apply(this,arguments);}s.ATTRS={axisRenderer:{value:null}};b.extend(s,b.Base,{setTickOffsets:function(){var B=this.get("axisRenderer"),F=B.get("styles").majorTicks,D=F.length,C=D*0.5,E=F.display;B.set("topTickOffset",0);B.set("bottomTickOffset",0);switch(E){case"inside":B.set("leftTickOffset",D);break;case"outside":B.set("rightTickOffset",D);break;case"cross":B.set("rightTickOffset",C);B.set("leftTickOffset",C);break;}},drawTick:function(H,F){var C=this.get("axisRenderer"),D=C.get("styles"),G=D.padding,E=F.length,I={x:G.left,y:H.y},B={x:G.left+E,y:H.y};C.drawLine(I,B,F);},getLineStart:function(){var B=this.get("axisRenderer"),C=B.get("styles"),G=C.padding,H=C.majorTicks,D=H.length,F=H.display,E={x:G.left,y:G.top};if(F==="inside"){E.x+=D;}else{if(F==="cross"){E.x+=D/2;}}return E;},getLabelPoint:function(B){var C=this.get("axisRenderer");return{x:B.x+C.get("rightTickOffset"),y:B.y};},updateMaxLabelSize:function(M){var G=this.get("axisRenderer"),B=G.get("styles").label,D=Math.min(90,Math.max(-90,B.rotation)),H=Math.abs(D),K=Math.PI/180,N=parseFloat(parseFloat(Math.sin(H*K)).toFixed(8)),E=parseFloat(parseFloat(Math.cos(H*K)).toFixed(8)),J=E,I=D>0?-N:N,F=-I,C=J,L;if(!document.createElementNS){M.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+J+" M12="+I+" M21="+F+" M22="+C+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),M.offsetWidth));}else{M.style.msTransform="rotate(0deg)";if(D===0){L=M.offsetWidth;}else{if(H===90){L=M.offsetHeight;}else{L=(E*M.offsetWidth)+(N*M.offsetHeight);}}this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),L));}},positionLabel:function(H,O){var N=this.get("axisRenderer"),R=N.get("styles").label,K=R.alpha,Q,M=0,J=O.x,P=O.y,I=Math.min(Math.max(R.rotation,-90),90),C=Math.abs(I),E=Math.PI/180,L=parseFloat(parseFloat(Math.sin(C*E)).toFixed(8)),G=parseFloat(parseFloat(Math.cos(C*E)).toFixed(8)),U=G,T=I>0?-L:L,F=-T,D=U,S=Math.round(H.offsetWidth),B=Math.round(H.offsetHeight);if(R.margin&&R.margin.right){M=R.margin.right;}if(!document.createElementNS){H.style.filter=null;if(I===0){P-=B*0.5;}else{if(C===90){P-=S*0.5;}else{if(I>0){P-=(G*(B*0.5));}else{P-=(L*S)+(G*(B*0.5));}}}J+=M;H.style.left=J+"px";H.style.top=P+"px";if(b.Lang.isNumber(K)&&K<1&&K>-1&&!isNaN(K)){Q="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(K*100)+")";}if(I!==0){if(Q){Q+=" ";}else{Q="";}Q+="progid:DXImageTransform.Microsoft.Matrix(M11="+U+" M12="+T+" M21="+F+" M22="+D+' sizingMethod="auto expand")';}if(Q){H.style.filter=Q;}return;}H.style.msTransform="rotate(0deg)";S=Math.round(H.offsetWidth);B=Math.round(H.offsetHeight);if(I===0){P-=B*0.5;}else{if(I===90){J+=B;P-=S*0.5;}else{if(I===-90){P+=S*0.5;}else{if(I<0){P-=(G*(B*0.6));}else{P-=G*(B*0.6);J+=L*B;}}}}J+=M;H.style.left=J+"px";H.style.top=P+"px";H.style.MozTransformOrigin="0 0";H.style.MozTransform="rotate("+I+"deg)";
H.style.webkitTransformOrigin="0 0";H.style.webkitTransform="rotate("+I+"deg)";H.style.msTransformOrigin="0 0";H.style.msTransform="rotate("+I+"deg)";H.style.OTransformOrigin="0 0";H.style.OTransform="rotate("+I+"deg)";},setSizeAndPosition:function(){var C=this.get("axisRenderer"),B=this.get("maxLabelSize"),D=C.get("styles"),F=D.line.weight,G=D.majorTicks,E=G.display,H=G.length;if(E==="outside"){F+=H;}else{if(E==="cross"){F+=H*0.5;}}F+=B;C.set("width",F);},offsetNodeForTick:function(B){var C=this.get("axisRenderer"),F=C.get("styles").majorTicks,D=F.length,E=F.display;if(E==="inside"){B.setStyle("left",0-D+"px");}else{if(E==="cross"){B.setStyle("left",0-(D*0.5)+"px");}}},setCalculatedSize:function(){var C=this.get("axisRenderer"),D=C.get("styles").label,B=C.get("rightTickOffset")+this.get("maxLabelSize")+D.margin.left;C.set("width",B);}});b.RightAxisLayout=s;function w(B){w.superclass.constructor.apply(this,arguments);}w.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};b.extend(w,b.Base,{setTickOffsets:function(){var B=this.get("axisRenderer"),F=B.get("styles").majorTicks,D=F.length,C=D*0.5,E=F.display;B.set("leftTickOffset",0);B.set("rightTickOffset",0);switch(E){case"inside":B.set("topTickOffset",D);break;case"outside":B.set("bottomTickOffset",D);break;case"cross":B.set("topTickOffset",C);B.set("bottomTickOffset",C);break;}},getLineStart:function(){var B=this.get("axisRenderer"),C=B.get("styles"),G=C.padding,H=C.majorTicks,D=H.length,F=H.display,E={x:0,y:G.top};if(F==="inside"){E.y+=D;}else{if(F==="cross"){E.y+=D/2;}}return E;},drawTick:function(H,F){var C=this.get("axisRenderer"),D=C.get("styles"),G=D.padding,E=F.length,I={x:H.x,y:G.top},B={x:H.x,y:E+G.top};C.drawLine(I,B,F);},getLabelPoint:function(B){var C=this.get("axisRenderer");return{x:B.x,y:B.y+C.get("bottomTickOffset")};},updateMaxLabelSize:function(M){var G=this.get("axisRenderer"),B=G.get("styles").label,D=Math.min(90,Math.max(-90,B.rotation)),H=Math.abs(D),K=Math.PI/180,N=parseFloat(parseFloat(Math.sin(H*K)).toFixed(8)),E=parseFloat(parseFloat(Math.cos(H*K)).toFixed(8)),J=E,I=D>0?-N:N,F=-I,C=J,L;if(!document.createElementNS){M.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+J+" M12="+I+" M21="+F+" M22="+C+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),M.offsetHeight));}else{M.style.msTransform="rotate(0deg)";if(D===0){L=M.offsetHeight;}else{if(H===90){L=M.offsetWidth;}else{L=(N*M.offsetWidth)+(E*M.offsetHeight);}}this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),L));}},positionLabel:function(H,O){var N=this.get("axisRenderer"),R=N.get("styles").label,K=R.alpha,Q,M=0,J=Math.round(O.x),P=Math.round(O.y),I=Math.min(90,Math.max(-90,R.rotation)),C=Math.abs(I),E=Math.PI/180,L=parseFloat(parseFloat(Math.sin(C*E)).toFixed(8)),G=parseFloat(parseFloat(Math.cos(C*E)).toFixed(8)),U=G,T=I>0?-L:L,F=-T,D=U,S=Math.round(H.offsetWidth),B=Math.round(H.offsetHeight);if(R.margin&&R.margin.top){M=R.margin.top;}if(!document.createElementNS){U=G;T=I>0?-L:L;F=-T;D=U;H.style.filter=null;if(C===90){J-=B*0.5;}else{if(I<0){J-=G*S;J-=L*(B*0.5);}else{if(I>0){J-=L*(B*0.5);}else{J-=S*0.5;}}}P+=M;H.style.left=Math.round(J)+"px";H.style.top=Math.round(P)+"px";if(b.Lang.isNumber(K)&&K<1&&K>-1&&!isNaN(K)){Q="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(K*100)+")";}if(I!==0){if(Q){Q+=" ";}else{Q="";}Q+="progid:DXImageTransform.Microsoft.Matrix(M11="+U+" M12="+T+" M21="+F+" M22="+D+' sizingMethod="auto expand")';}if(Q){H.style.filter=Q;}return;}H.style.msTransform="rotate(0deg)";S=Math.round(H.offsetWidth);B=Math.round(H.offsetHeight);if(I===0){J-=S*0.5;}else{if(C===90){if(I===90){J+=B*0.5;}else{P+=S;J-=B*0.5;}}else{if(I<0){J-=(G*S)+(L*(B*0.6));P+=L*S;}else{J+=Math.round(L*(B*0.6));}}}P+=M;H.style.left=Math.round(J)+"px";H.style.top=Math.round(P)+"px";H.style.MozTransformOrigin="0 0";H.style.MozTransform="rotate("+I+"deg)";H.style.webkitTransformOrigin="0 0";H.style.webkitTransform="rotate("+I+"deg)";H.style.msTransformOrigin="0 0";H.style.msTransform="rotate("+I+"deg)";H.style.OTransformOrigin="0 0";H.style.OTransform="rotate("+I+"deg)";},setSizeAndPosition:function(){var B=this.get("maxLabelSize"),C=this.get("axisRenderer"),D=C.get("styles"),G=D.line.weight,H=D.majorTicks,F=H.display,I=H.length,E=D.label.margin;if(F==="outside"){G+=I;}else{if(F==="cross"){G+=I*0.5;}}if(E&&E.top){G+=E.top;}G+=B;G=Math.round(G);C.set("height",G);},offsetNodeForTick:function(B){var D=this.get("axisRenderer"),F=D.get("styles"),I=F.majorTicks,E=I.length,H=I.display,C=F.line,G;if(C){G=C.weight||0;}if(H==="inside"){B.setStyle("marginTop",(0-(E-G/2))+"px");}else{if(H==="cross"){B.setStyle("marginTop",(0-(E*0.5))+"px");}}},setCalculatedSize:function(){var C=this.get("axisRenderer"),D=C.get("styles").label,B=C.get("bottomTickOffset")+this.get("maxLabelSize")+D.margin.top;C.set("height",Math.round(B));}});b.BottomAxisLayout=w;function a(B){a.superclass.constructor.apply(this,arguments);}a.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};b.extend(a,b.Base,{setTickOffsets:function(){var B=this.get("axisRenderer"),F=B.get("styles").majorTicks,D=F.length,C=D*0.5,E=F.display;B.set("leftTickOffset",0);B.set("rightTickOffset",0);switch(E){case"inside":B.set("bottomTickOffset",D);break;case"outside":B.set("topTickOffset",D);break;case"cross":B.set("topTickOffset",C);B.set("bottomTickOffset",C);break;}},getLineStart:function(){var B=this.get("axisRenderer"),C=B.get("styles"),G=C.padding,H=C.majorTicks,D=H.length,F=H.display,E={x:0,y:G.top};if(F==="outside"){E.y+=D;}else{if(F==="cross"){E.y+=D/2;}}return E;},drawTick:function(H,F){var C=this.get("axisRenderer"),D=C.get("styles"),G=D.padding,E=F.length,I={x:H.x,y:G.top},B={x:H.x,y:E+G.top};C.drawLine(I,B,F);},getLabelPoint:function(C){var B=this.get("axisRenderer");return{x:C.x,y:C.y-B.get("topTickOffset")};},updateMaxLabelSize:function(M){var G=this.get("axisRenderer"),B=G.get("styles").label,D=Math.min(90,Math.max(-90,B.rotation)),H=Math.abs(D),K=Math.PI/180,N=parseFloat(parseFloat(Math.sin(H*K)).toFixed(8)),E=parseFloat(parseFloat(Math.cos(H*K)).toFixed(8)),J=E,I=D>0?-N:N,F=-I,C=J,L;
if(!document.createElementNS){M.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+J+" M12="+I+" M21="+F+" M22="+C+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),M.offsetHeight));}else{M.style.msTransform="rotate(0deg)";if(D===0){L=M.offsetHeight;}else{if(H===90){L=M.offsetWidth;}else{L=(N*M.offsetWidth)+(E*M.offsetHeight);}}this.set("maxLabelSize",Math.max(this.get("maxLabelSize"),L));}},positionLabel:function(H,P){var O=this.get("axisRenderer"),S=O.get("styles").label,K=S.alpha,R,N=0,J=P.x,Q=P.y,I=Math.max(-90,Math.min(90,S.rotation)),C=Math.abs(I),E=Math.PI/180,M=parseFloat(parseFloat(Math.sin(C*E)).toFixed(8)),G=parseFloat(parseFloat(Math.cos(C*E)).toFixed(8)),V,U,F,D,L=this.get("maxLabelSize"),T=Math.round(H.offsetWidth),B=Math.round(H.offsetHeight);I=Math.min(90,I);I=Math.max(-90,I);if(S.margin&&S.margin.bottom){N=S.margin.bottom;}if(!document.createElementNS){H.style.filter=null;T=Math.round(H.offsetWidth);B=Math.round(H.offsetHeight);V=G;U=I>0?-M:M;F=-U;D=V;if(I===0){J-=T*0.5;}else{if(C===90){J-=B*0.5;}else{if(I>0){J-=(G*T)+Math.min((M*B),(I/180*B));Q-=(M*T)+(G*(B));Q+=L;}else{J-=M*(B*0.5);Q-=(M*T)+(G*(B));Q+=L;}}}Q-=N;H.style.left=J;H.style.top=Q;if(b.Lang.isNumber(K)&&K<1&&K>-1&&!isNaN(K)){R="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(K*100)+")";}if(I!==0){if(R){R+=" ";}else{R="";}R+="progid:DXImageTransform.Microsoft.Matrix(M11="+V+" M12="+U+" M21="+F+" M22="+D+' sizingMethod="auto expand")';}if(R){H.style.filter=R;}return;}H.style.msTransform="rotate(0deg)";T=Math.round(H.offsetWidth);B=Math.round(H.offsetHeight);if(I===0){J-=T*0.5;Q-=B;}else{if(I===90){J+=B*0.5;Q-=T;}else{if(I===-90){J-=B*0.5;Q-=0;}else{if(I<0){J-=(M*(B*0.6));Q-=(G*B);}else{J-=(G*T)-(M*(B*0.6));Q-=(M*T)+(G*B);}}}}Q-=N;H.style.left=J+"px";H.style.top=(this.get("maxLabelSize")+Q)+"px";H.style.MozTransformOrigin="0 0";H.style.MozTransform="rotate("+I+"deg)";H.style.webkitTransformOrigin="0 0";H.style.webkitTransform="rotate("+I+"deg)";H.style.msTransformOrigin="0 0";H.style.msTransform="rotate("+I+"deg)";H.style.OTransformOrigin="0 0";H.style.OTransform="rotate("+I+"deg)";},setSizeAndPosition:function(){var G=this.get("maxLabelSize"),E=this.get("axisRenderer"),C=E.get("styles"),F=C.label.margin,B=E.get("graphic"),J=C.line.weight||0,H=C.majorTicks,I=H.display,D=H.length;if(I==="outside"){J+=D;}else{if(I==="cross"){J+=D*0.5;}}if(F&&F.bottom){J+=F.bottom;}J+=G;E.set("height",J);b.one(B.node).setStyle("top",G);},offsetNodeForTick:function(B){var C=this.get("axisRenderer"),F=C.get("styles"),D=F.label,G=D&&D.margin&&D.margin.bottom?D.margin.bottom:0,I=F.majorTicks,E=I.length,H=I.display;if(H==="inside"){B.setStyle("top",E+"px");}else{if(H==="cross"){B.setStyle("top",(E*0.5)+"px");}else{B.setStyle("top",G+"px");}}},setCalculatedSize:function(){var C=this.get("axisRenderer"),D=C.get("styles").label,B=C.get("topTickOffset")+this.get("maxLabelSize")+D.margin.bottom;C.set("height",B);}});b.TopAxisLayout=a;b.AxisType=b.Base.create("baseAxis",b.Axis,[],{bindUI:function(){this.after("dataReady",b.bind(this._dataChangeHandler,this));this.after("dataUpdate",b.bind(this._dataChangeHandler,this));this.after("minimumChange",b.bind(this._keyChangeHandler,this));this.after("maximumChange",b.bind(this._keyChangeHandler,this));this.after("keysChange",this._keyChangeHandler);this.after("dataProviderChange",this._dataProviderChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);this.after("widthChange",this._handleSizeChange);this.after("heightChange",this._handleSizeChange);this.after("alwaysShowZeroChange",this._keyChangeHandler);this.after("roundingMethodChange",this._keyChangeHandler);},_dataProviderChangeHandler:function(E){var B=this.get("keyCollection").concat(),D=this.get("keys"),C;if(D){for(C in D){if(D.hasOwnProperty(C)){delete D[C];}}}if(B&&B.length){this.set("keys",B);}},GUID:"yuibaseaxis",_type:null,_setMaximum:null,_dataMaximum:null,_setMinimum:null,_data:null,_updateTotalDataFlag:true,_dataReady:false,addKey:function(B){this.set("keys",B);},_getKeyArray:function(E,F){var D=0,G,C=[],B=F.length;for(;D<B;++D){G=F[D];C[D]=G[E];}return C;},_setDataByKey:function(F,G){var E,H,C=[],D=this._dataClone.concat(),B=D.length;for(E=0;E<B;++E){H=D[E];C[E]=H[F];}this.get("keys")[F]=C;this._updateTotalDataFlag=true;},_updateTotalData:function(){var C=this.get("keys"),B;this._data=[];for(B in C){if(C.hasOwnProperty(B)){this._data=this._data.concat(C[B]);}}this._updateTotalDataFlag=false;},removeKey:function(C){var B=this.get("keys");if(B.hasOwnProperty(C)){delete B[C];this._keyChangeHandler();}},getKeyValueAt:function(C,B){var E=NaN,D=this.get("keys");if(D[C]&&D[C][B]){E=D[C][B];}return E;},getDataByKey:function(C){var B=this.get("keys");if(B[C]){return B[C];}return null;},_updateMinAndMax:function(){var G=this.get("data"),C=0,F=0,B,D,E;if(G&&G.length&&G.length>0){B=G.length;C=F=G[0];if(B>1){for(E=1;E<B;E++){D=G[E];if(isNaN(D)){continue;}C=Math.max(D,C);F=Math.min(D,F);}}}this._dataMaximum=C;this._dataMinimum=F;},getTotalMajorUnits:function(){var C,D=this.get("styles").majorUnit,B=this.get("length");if(D.determinant==="count"){C=D.count;}else{if(D.determinant==="distance"){C=(B/D.distance)+1;}}return C;},getMajorUnitDistance:function(B,E,C){var D;if(C.determinant==="count"){D=E/(B-1);}else{if(C.determinant==="distance"){D=C.distance;}}return D;},getEdgeOffset:function(C,B){return 0;},getLabelByIndex:function(F,C){var E=this.get("minimum"),B=this.get("maximum"),G=(B-E)/(C-1),D;C-=1;D=E+(F*G);return D;},_keyChangeHandler:function(B){this._updateMinAndMax();this.fire("dataUpdate");}},{ATTRS:{keys:{value:{},setter:function(F){var D={},C,B,E=this.get("dataProvider");if(b.Lang.isArray(F)){B=F.length;for(C=0;C<B;++C){D[F[C]]=this._getKeyArray(F[C],E);}}else{if(b.Lang.isString(F)){D=this.get("keys");D[F]=this._getKeyArray(F,E);}else{for(C in F){if(F.hasOwnProperty(C)){D[C]=this._getKeyArray(C,E);
}}}}this._updateTotalDataFlag=true;return D;}},roundingMethod:{value:"niceNumber"},type:{readOnly:true,getter:function(){return this._type;}},dataProvider:{setter:function(B){return B;}},dataMaximum:{getter:function(){if(!this._dataMaximum){this._updateMinAndMax();}return this._dataMaximum;}},maximum:{getter:function(){var B=this.get("dataMaximum");if(this.get("setMax")){B=this._setMaximum;}return B;},setter:function(B){this._setMaximum=parseFloat(B);return B;}},dataMinimum:{getter:function(){if(!this._dataMinimum){this._updateMinAndMax();}return this._dataMinimum;}},minimum:{getter:function(){var B=this.get("dataMinimum");if(this.get("setMin")){B=this._setMinimum;}return B;},setter:function(B){this._setMinimum=parseFloat(B);return B;}},setMax:{readOnly:true,getter:function(){return b.Lang.isNumber(this._setMaximum);}},setMin:{readOnly:true,getter:function(){return b.Lang.isNumber(this._setMinimum);}},data:{getter:function(){if(!this._data||this._updateTotalDataFlag){this._updateTotalData();}return this._data;}},keyCollection:{getter:function(){var D=this.get("keys"),C,B=[];for(C in D){if(D.hasOwnProperty(C)){B.push(C);}}return B;},readOnly:true},labelFunction:{value:function(C,B){return C;}}}});function p(B){p.superclass.constructor.apply(this,arguments);}p.NAME="numericAxis";p.ATTRS={alwaysShowZero:{value:true},labelFunction:{value:function(C,B){if(B){return b.DataType.Number.format(C,B);}return C;}},labelFormat:{value:{prefix:"",thousandsSeparator:"",decimalSeparator:"",decimalPlaces:"0",suffix:""}}};b.extend(p,b.AxisType,{_type:"numeric",_getMinimumUnit:function(B,D,C){return this._getNiceNumber(Math.ceil((B-D)/C));},_getNiceNumber:function(D){var F=D,B=Math.ceil(Math.log(F)*0.4342944819032518),E=Math.pow(10,B),C;if(E/2>=F){C=Math.floor((E/2-F)/(Math.pow(10,B-1)/2));F=E/2-C*Math.pow(10,B-1)/2;}else{F=E;}if(!isNaN(F)){return F;}return D;},_updateMinAndMax:function(){var C=this.get("data"),H=0,B=0,F,E,D,I,J=this.get("setMax"),G=this.get("setMin");if(!J&&!G){if(C&&C.length&&C.length>0){F=C.length;H=B=C[0];if(F>1){for(D=1;D<F;D++){E=C[D];if(isNaN(E)){if(b.Lang.isObject(E)){for(I in E){if(E.hasOwnProperty(I)){H=Math.max(E[I],H);B=Math.min(E[I],B);}}}continue;}H=J?this._setMaximum:Math.max(E,H);B=G?this._setMinimum:Math.min(E,B);}}}this._roundMinAndMax(B,H);}},_roundMinAndMax:function(F,O){var I,D,P=F>=0,N=O>0,G,M,Q,E,L,C,K,J=this.getTotalMajorUnits()-1,H=this.get("alwaysShowZero"),R=this.get("roundingMethod"),B=(O-F)/J>=1;if(R){if(R=="niceNumber"){I=this._getMinimumUnit(O,F,J);if(P&&N){if(H||F<I){F=0;}I=this._getMinimumUnit(O,F,J);O=this._roundUpToNearest(O,I);}else{if(N&&!P){E=Math.round(J/((-1*F)/O+1));L=J-E;C=Math.ceil(O/E);K=Math.floor(F/L)*-1;I=Math.max(C,K);I=this._getNiceNumber(I);O=I*E;F=I*L*-1;}else{if(H||O===0||O+I>0){O=0;I=this._getMinimumUnit(O,F,J);}else{O=this._roundUpToNearest(O,I);}F=O-(I*J);}}}else{if(R=="auto"){if(P&&N){if(H||F<(O-F)/J){F=0;}I=(O-F)/J;if(B){I=Math.ceil(I);}O=F+(I*J);}else{if(N&&!P){if(H){E=Math.round(J/((-1*F)/O+1));L=J-E;if(B){C=Math.ceil(O/E);K=Math.floor(F/L)*-1;}else{C=O/E;K=F/L*-1;}I=Math.max(C,K);O=I*E;F=I*L*-1;}else{I=(O-F)/J;if(B){I=Math.ceil(I);}F=this._roundDownToNearest(F,I);O=this._roundUpToNearest(O,I);}}else{I=(O-F)/J;if(B){I=Math.ceil(I);}if(H||O===0||O+I>0){O=0;I=(O-F)/J;if(B){Math.ceil(I);}}else{O=this._roundUpToNearest(O,I);}F=O-(I*J);}}}else{if(!isNaN(R)&&isFinite(R)){I=R;D=I*J;G=(O-F)>D;Q=this._roundDownToNearest(F,I);M=this._roundUpToNearest(O,I);if(P&&N){if(H||Q<=0){F=0;}else{F=Q;}if(!G){O=F+D;}else{O=M;}}else{if(N&&!P){F=Q;if(!G){O=F+D;}else{O=M;}}else{if(O===0||H){O=0;}else{O=M;}if(!G){F=O-D;}else{F=Q;}}}}}}}this._dataMaximum=O;this._dataMinimum=F;},getLabelByIndex:function(F,C){var E=this.get("minimum"),B=this.get("maximum"),G=(B-E)/(C-1),D;C-=1;D=E+(F*G);if(F>0){D=this._roundToNearest(D,G);}return D;},_roundToNearest:function(D,C){C=C||1;if(C===0){return D;}var B=Math.round(this._roundToPrecision(D/C,10))*C;return this._roundToPrecision(B,10);},_roundUpToNearest:function(C,B){B=B||1;if(B===0){return C;}return Math.ceil(this._roundToPrecision(C/B,10))*B;},_roundDownToNearest:function(C,B){B=B||1;if(B===0){return C;}return Math.floor(this._roundToPrecision(C/B,10))*B;},_roundToPrecision:function(D,B){B=B||0;var C=Math.pow(10,B);return Math.round(C*D)/C;}});b.NumericAxis=p;function f(B){f.superclass.constructor.apply(this,arguments);}f.NAME="stackedAxis";b.extend(f,b.NumericAxis,{_updateMinAndMax:function(){var H=0,C=0,G=0,B=0,F=0,D=0,I,E,J=this.get("keys");for(I in J){if(J.hasOwnProperty(I)){F=Math.max(F,J[I].length);}}for(;D<F;++D){G=0;B=0;for(I in J){if(J.hasOwnProperty(I)){E=J[I][D];if(isNaN(E)){continue;}if(E>=0){G+=E;}else{B+=E;}}}if(G>0){H=Math.max(H,G);}else{H=Math.max(H,B);}if(B<0){C=Math.min(C,B);}else{C=Math.min(C,G);}}this._roundMinAndMax(C,H);}});b.StackedAxis=f;function e(B){e.superclass.constructor.apply(this,arguments);}e.NAME="timeAxis";e.ATTRS={setMax:{readOnly:true,getter:function(){var B=this._getNumber(this._setMaximum);return(b.Lang.isNumber(B));}},setMin:{readOnly:true,getter:function(){var B=this._getNumber(this._setMinimum);return(b.Lang.isNumber(B));}},maximum:{getter:function(){var B=this._getNumber(this._setMaximum);if(!b.Lang.isNumber(B)){B=this._getNumber(this.get("dataMaximum"));}return B;},setter:function(B){this._setMaximum=this._getNumber(B);return B;}},minimum:{getter:function(){var B=this._getNumber(this._setMinimum);if(!b.Lang.isNumber(B)){B=this._getNumber(this.get("dataMinimum"));}return B;},setter:function(B){this._setMinimum=this._getNumber(B);return B;}},labelFunction:{value:function(C,B){C=b.DataType.Date.parse(C);if(B){return b.DataType.Date.format(C,{format:B});}return C;}},labelFormat:{value:"%b %d, %y"}};b.extend(e,b.AxisType,{GUID:"yuitimeaxis",_dataType:"time",getLabelByIndex:function(G,D){var F=this.get("minimum"),C=this.get("maximum"),B=this.get("position"),H,E;D-=1;H=((C-F)/D)*G;if(B=="bottom"||B=="top"){E=F+H;}else{E=C-H;}return E;},_getKeyArray:function(E,F){var G,C=[],D=0,H,B=F.length;
for(;D<B;++D){G=F[D][E];if(b.Lang.isDate(G)){H=G.valueOf();}else{if(!b.Lang.isNumber(G)){H=new Date(G.toString()).valueOf();}else{H=G;}}C[D]=H;}return C;},_setDataByKey:function(F,G){var H,C=[],E=this._dataClone.concat(),D,I,B=E.length;for(D=0;D<B;++D){H=E[D][F];if(b.Lang.isDate(H)){I=H.valueOf();}else{if(!b.Lang.isNumber(H)){I=new Date(H.toString()).valueOf();}else{I=H;}}C[D]=I;}this.get("keys")[F]=C;this._updateTotalDataFlag=true;},_getNumber:function(B){if(b.Lang.isDate(B)){B=B.valueOf();}else{if(!b.Lang.isNumber(B)&&B){B=new Date(B.toString()).valueOf();}}return B;}});b.TimeAxis=e;function g(B){g.superclass.constructor.apply(this,arguments);}g.NAME="categoryAxis";b.extend(g,b.AxisType,{_indices:null,GUID:"yuicategoryaxis",_type:"category",_updateMinAndMax:function(){this._dataMaximum=Math.max(this.get("data").length-1,0);this._dataMinimum=0;},_getKeyArray:function(E,F){var D=0,G,C=[],H=[],B=F.length;if(!this._indices){this._indices={};}for(;D<B;++D){G=F[D];C[D]=D;H[D]=G[E];}this._indices[E]=C;return H;},_setDataByKey:function(F){var E,G,C=[],H=[],D=this._dataClone.concat(),B=D.length;if(!this._indices){this._indices={};}for(E=0;E<B;++E){G=D[E];C[E]=E;H[E]=G[F];}this._indices[F]=C;this.get("keys")[F]=H.concat();this._updateTotalDataFlag=true;},getDataByKey:function(C){if(!this._indices){this.get("keys");}var B=this._indices;if(B[C]){return B[C];}return null;},getTotalMajorUnits:function(C,B){return this.get("data").length;},getMajorUnitDistance:function(B,E,C){var D;if(C.determinant==="count"){D=E/B;}else{if(C.determinant==="distance"){D=C.distance;}}return D;},getEdgeOffset:function(C,B){return B/C;},getLabelByIndex:function(E,C){var D,F=this.get("data"),B=this.get("position");if(B=="bottom"||B=="top"){D=F[E];}else{D=F[C-(E+1)];}return D;}});b.CategoryAxis=g;function n(){}n.prototype={getCurveControlPoints:function(E,H){var F=[],D=1,C=E.length-1,B=[],G=[];if(C<1){return null;}F[0]={startx:E[0],starty:H[0],endx:E[1],endy:H[1]};if(C===1){F[0].ctrlx1=(2*E[0]+E[1])/3;F[0].ctrly2=(2*H[0]+H[1])/3;F[0].ctrlx2=2*F[0].ctrlx1-E[0];F[0].ctrly2=2*F[0].ctrly1-H[0];return F;}for(;D<C;++D){F.push({startx:Math.round(E[D]),starty:Math.round(H[D]),endx:Math.round(E[D+1]),endy:Math.round(H[D+1])});B[D]=4*E[D]+2*E[D+1];G[D]=4*H[D]+2*H[D+1];}B[0]=E[0]+(2*E[1]);B[C-1]=(8*E[C-1]+E[C])/2;B=this.getControlPoints(B.concat());G[0]=H[0]+(2*H[1]);G[C-1]=(8*H[C-1]+H[C])/2;G=this.getControlPoints(G.concat());for(D=0;D<C;++D){F[D].ctrlx1=Math.round(B[D]);F[D].ctrly1=Math.round(G[D]);if(D<C-1){F[D].ctrlx2=Math.round(2*E[D+1]-B[D+1]);F[D].ctrly2=Math.round(2*H[D+1]-G[D+1]);}else{F[D].ctrlx2=Math.round((E[C]+B[C-1])/2);F[D].ctrly2=Math.round((H[C]+G[C-1])/2);}}return F;},getControlPoints:function(G){var D=G.length,C=[],F=[],B=2,E=1;C[0]=G[0]/B;for(;E<D;++E){F[E]=1/B;B=(E<D-1?4:3.5)-F[E];C[E]=(G[E]-C[E-1])/B;}for(E=1;E<D;++E){C[D-E-1]-=F[D-E]*C[D-E];}return C;}};b.CurveUtil=n;function k(){}k.prototype={_stackCoordinates:function(){var L=this.get("direction"),D=this.get("order"),J=this.get("type"),M=this.get("graph"),G=M.get("height"),C=M.seriesTypes[J],F=0,I,K=this.get("xcoords"),E=this.get("ycoords"),H,B;if(D===0){return;}H=C[D-1].get("xcoords").concat();B=C[D-1].get("ycoords").concat();if(L==="vertical"){I=H.length;for(;F<I;++F){if(!isNaN(H[F])&&!isNaN(K[F])){K[F]+=H[F];}}}else{I=B.length;for(;F<I;++F){if(!isNaN(B[F])&&!isNaN(E[F])){E[F]=B[F]-(G-E[F]);}}}}};b.StackingUtil=k;function j(){}j.prototype={_lineDefaults:null,_getGraphic:function(){var B=this.get("graph");if(!this._lineGraphic){this._lineGraphic=new b.Graphic();this._lineGraphic.render(B.get("contentBox"));}this._lineGraphic.clear();this._lineGraphic.setSize(B.get("width"),B.get("height"));this.autoSize=false;return this._lineGraphic;},drawLines:function(){if(this.get("xcoords").length<1){return;}var J=this.get("xcoords").concat(),W=this.get("ycoords").concat(),S=this.get("direction"),O=S==="vertical"?W.length:J.length,D,C,V=D,T=C,R,P,N,F=this.get("styles").line,Q=F.lineType,L=F.color||this._getDefaultColor(this.get("graphOrder"),"line"),K=F.alpha,U=F.dashLength,H=F.gapSpace,G=F.connectDiscontinuousPoints,B=F.discontinuousType,E=F.discontinuousDashLength,M=F.discontinuousGapSpace,I=this._getGraphic();D=V=J[0];C=T=W[0];I.lineStyle(F.weight,L,K);I.moveTo(D,C);for(N=1;N<O;N=++N){R=J[N];P=W[N];if(isNaN(P)){V=R;T=P;continue;}if(V==D){if(Q!="dashed"){I.lineTo(R,P);}else{this.drawDashedLine(V,T,R,P,U,H);}}else{if(!G){I.moveTo(R,P);}else{if(B!="solid"){this.drawDashedLine(V,T,R,P,E,M);}else{I.lineTo(R,P);}}}D=V=R;C=T=P;}I.end();},drawSpline:function(){if(this.get("xcoords").length<1){return;}var M=this.get("xcoords"),G=this.get("ycoords"),O=this.getCurveControlPoints(M,G),H=O.length,J,I,D,C,N,L,F=0,P=this.get("styles").line,B=this._getGraphic(),K=P.alpha,E=P.color||this._getDefaultColor(this.get("graphOrder"),"line");B.lineStyle(P.weight,E,K);B.moveTo(M[0],G[0]);for(;F<H;F=++F){N=O[F].endx;L=O[F].endy;J=O[F].ctrlx1;I=O[F].ctrlx2;D=O[F].ctrly1;C=O[F].ctrly2;B.curveTo(J,D,I,C,N,L);}B.end();},drawDashedLine:function(M,Q,C,O,E,D){E=E||10;D=D||10;var G=E+D,J=C-M,N=O-Q,P=Math.sqrt(Math.pow(J,2)+Math.pow(N,2)),H=Math.floor(Math.abs(P/G)),F=Math.atan2(N,J),L=M,K=Q,I,B=this._getGraphic();J=Math.cos(F)*G;N=Math.sin(F)*G;for(I=0;I<H;++I){B.moveTo(L,K);B.lineTo(L+Math.cos(F)*E,K+Math.sin(F)*E);L+=J;K+=N;}B.moveTo(L,K);P=Math.sqrt((C-L)*(C-L)+(O-K)*(O-K));if(P>E){B.lineTo(L+Math.cos(F)*E,K+Math.sin(F)*E);}else{if(P>0){B.lineTo(L+Math.cos(F)*P,K+Math.sin(F)*P);}}B.moveTo(C,O);},_getLineDefaults:function(){return{alpha:1,weight:6,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoints:true,discontinuousType:"solid",discontinuousDashLength:10,discontinuousGapSpace:10};}};b.augment(j,b.Attribute);b.Lines=j;function y(B){var C={area:{getter:function(){return this._defaults||this._getAreaDefaults();},setter:function(E){var D=this._defaults||this._getAreaDefaults();this._defaults=b.merge(D,E);}}};this.addAttrs(C,B);this.get("styles");}y.prototype={drawFill:function(K,G){if(K.length<1){return;
}var J=K.length,D=K[0],C=G[0],I=D,H=C,N,M,F=1,L=this.get("styles").area,B=this.get("graphic"),E=L.color||this._getDefaultColor(this.get("graphOrder"),"slice");B.clear();B.beginFill(E,L.alpha);B.moveTo(D,C);for(;F<J;F=++F){N=K[F];M=G[F];if(isNaN(M)){I=N;H=M;continue;}B.lineTo(N,M);I=N;H=M;}B.end();},drawAreaSpline:function(){if(this.get("xcoords").length<1){return;}var N=this.get("xcoords"),I=this.get("ycoords"),P=this.getCurveControlPoints(N,I),J=P.length,L,K,F,E,O,M,H=0,D=N[0],C=I[0],Q=this.get("styles").area,B=this.get("graphic"),G=Q.color||this._getDefaultColor(this.get("graphOrder"),"slice");B.beginFill(G,Q.alpha);B.moveTo(D,C);for(;H<J;H=++H){O=P[H].endx;M=P[H].endy;L=P[H].ctrlx1;K=P[H].ctrlx2;F=P[H].ctrly1;E=P[H].ctrly2;B.curveTo(L,F,K,E,O,M);}if(this.get("direction")==="vertical"){B.lineTo(this._leftOrigin,M);B.lineTo(this._leftOrigin,C);}else{B.lineTo(O,this._bottomOrigin);B.lineTo(D,this._bottomOrigin);}B.lineTo(D,C);B.end();},drawStackedAreaSpline:function(){if(this.get("xcoords").length<1){return;}var M=this.get("xcoords"),W=this.get("ycoords"),K,R=this.get("order"),D=this.get("type"),B=this.get("graph"),E=B.seriesTypes[D],C,P,T,O,N,V,U,I,G,S=0,J,H,F=this.get("styles").area,L=this.get("graphic"),Q=F.color||this._getDefaultColor(this.get("graphOrder"),"slice");J=M[0];H=W[0];K=this.getCurveControlPoints(M,W);T=K.length;L.beginFill(Q,F.alpha);L.moveTo(J,H);for(;S<T;S=++S){I=K[S].endx;G=K[S].endy;O=K[S].ctrlx1;N=K[S].ctrlx2;V=K[S].ctrly1;U=K[S].ctrly2;L.curveTo(O,V,N,U,I,G);}if(R>0){C=E[R-1].get("xcoords").concat().reverse();P=E[R-1].get("ycoords").concat().reverse();K=this.getCurveControlPoints(C,P);S=0;T=K.length;L.lineTo(C[0],P[0]);for(;S<T;S=++S){I=K[S].endx;G=K[S].endy;O=K[S].ctrlx1;N=K[S].ctrlx2;V=K[S].ctrly1;U=K[S].ctrly2;L.curveTo(O,V,N,U,I,G);}}else{if(this.get("direction")==="vertical"){L.lineTo(this._leftOrigin,W[W.length-1]);L.lineTo(this._leftOrigin,H);}else{L.lineTo(M[M.length-1],this._bottomOrigin);L.lineTo(J,this._bottomOrigin);}}L.lineTo(J,H);L.end();},_defaults:null,_getClosingPoints:function(){var B=this.get("xcoords").concat(),C=this.get("ycoords").concat();if(this.get("direction")==="vertical"){B.push(this._leftOrigin);B.push(this._leftOrigin);C.push(C[C.length-1]);C.push(C[0]);}else{B.push(B[B.length-1]);B.push(B[0]);C.push(this._bottomOrigin);C.push(this._bottomOrigin);}B.push(B[0]);C.push(C[0]);return[B,C];},_getStackedClosingPoints:function(){var F=this.get("order"),I=this.get("type"),L=this.get("graph"),J=this.get("direction"),D=L.seriesTypes[I],H,E,K=this.get("xcoords").concat(),G=this.get("ycoords").concat(),C=K[0],B=G[0];if(F>0){H=D[F-1].get("xcoords").concat();E=D[F-1].get("ycoords").concat();K=K.concat(H.concat().reverse());G=G.concat(E.concat().reverse());K.push(K[0]);G.push(G[0]);}else{if(J==="vertical"){K.push(this._leftOrigin);K.push(this._leftOrigin);G.push(G[G.length-1]);G.push(B);}else{K.push(K[K.length-1]);K.push(C);G.push(this._bottomOrigin);G.push(this._bottomOrigin);}}return[K,G];},_getAreaDefaults:function(){return{};}};b.augment(y,b.Attribute);b.Fills=y;function x(B){var C={markers:{getter:function(){return this._markers;}}};this.addAttrs(C,B);}x.prototype={_plotDefaults:null,drawPlots:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var C=b.clone(this.get("styles").marker),Q=C.width,I=C.height,O=this.get("xcoords"),G=this.get("ycoords"),H=0,J=O.length,N=G[0],E,F,P,K=Q/2,D=I/2,M=null,L=null,B=this.get("graphOrder");if(b.Lang.isArray(C.fill.color)){M=C.fill.color.concat();}if(b.Lang.isArray(C.border.color)){L=C.border.colors.concat();}this._createMarkerCache();for(;H<J;++H){N=(G[H]-D);E=(O[H]-K);if(!N||!E||N===undefined||E===undefined||N=="undefined"||E=="undefined"||isNaN(N)||isNaN(E)){this._markers.push(null);this._graphicNodes.push(null);continue;}N+="px";E+="px";if(M){C.fill.color=M[H%M.length];}if(L){C.border.colors=L[H%L.length];}F=this.getMarker(C,B,H);P=b.one(F.parentNode);P.setStyle("position","absolute");P.setStyle("top",N);P.setStyle("left",E);}this._clearMarkerCache();},_getPlotDefaults:function(){var B={fill:{type:"solid",alpha:1,colors:null,alphas:null,ratios:null},border:{weight:1,alpha:1},width:10,height:10,shape:"circle"};B.fill.color=this._getDefaultColor(this.get("graphOrder"),"fill");B.border.color=this._getDefaultColor(this.get("graphOrder"),"border");return B;},_markers:null,_markerCache:null,getMarker:function(E,B,D){var C;if(this._markerCache.length>0){while(!C){if(this._markerCache.length<1){C=this._createMarker(E,B,D);break;}C=this._markerCache.shift();}C.update(E);}else{C=this._createMarker(E,B,D);}this._markers.push(C);this._graphicNodes.push(C.parentNode);return C;},_createMarker:function(F,B,E){var G=new b.Graphic(),D,C=b.clone(F);G.render(this.get("graph").get("contentBox"));G.node.setAttribute("id","markerParent_"+B+"_"+E);C.graphic=G;D=new b.Shape(C);D.addClass("yui3-seriesmarker");D.node.setAttribute("id","series_"+B+"_"+E);return D;},_createMarkerCache:function(){if(this._markers&&this._markers.length>0){this._markerCache=this._markers.concat();}else{this._markerCache=[];}this._markers=[];this._graphicNodes=[];},_clearMarkerCache:function(){var B=this._markerCache.length,D=0,E,C;for(;D<B;++D){C=this._markerCache[D];if(C){E=C.graphics;E.destroy();}}this._markerCache=[];},updateMarkerState:function(I,F){if(this._markers[F]){var K,H,C,L=b.clone(this.get("styles").marker),B=this._getState(I),J=this.get("xcoords"),E=this.get("ycoords"),D=this._markers[F],G=D.parentNode;C=B=="off"||!L[B]?L:L[B];C.fill.color=this._getItemColor(C.fill.color,F);C.border.color=this._getItemColor(C.border.color,F);D.update(C);K=C.width;H=C.height;G.style.left=(J[F]-K/2)+"px";G.style.top=(E[F]-H/2)+"px";D.toggleVisible(this.get("visible"));}},_getItemColor:function(C,B){if(b.Lang.isArray(C)){return C[B%C.length];}return C;},_setStyles:function(B){B=this._parseMarkerStyles(B);return b.Renderer.prototype._setStyles.apply(this,[B]);},_parseMarkerStyles:function(C){if(C.marker){var B=this._getPlotDefaults();C.marker=this._mergeStyles(C.marker,B);
if(C.marker.over){C.marker.over=this._mergeStyles(C.marker.over,C.marker);}if(C.marker.down){C.marker.down=this._mergeStyles(C.marker.down,C.marker);}}return C;},_getState:function(B){var C;switch(B){case"mouseout":C="off";break;case"mouseover":C="over";break;case"mouseup":C="over";break;case"mousedown":C="down";break;}return C;},_stateSyles:null};b.augment(x,b.Attribute);b.Plots=x;function z(){}z.prototype={drawSeries:function(){if(this.get("xcoords").length<1){return;}var X=b.clone(this.get("styles").marker),Y,R,O=this.get("xcoords"),ab=this.get("ycoords"),U=0,V=O.length,P=ab[0],D=this.get("type"),C=this.get("graph"),K=C.seriesTypes[D],W=K.length,M=0,N=0,G=0,J,S,T=this.get("order"),L=this.get("graphOrder"),F,I,Q,E,aa,B=null,H=null,Z;if(b.Lang.isArray(X.fill.color)){B=X.fill.color.concat();}if(b.Lang.isArray(X.border.color)){H=X.border.colors.concat();}if(this.get("direction")=="vertical"){Q="height";E="width";}else{Q="width";E="height";}Y=X[Q];R=X[E];this._createMarkerCache();for(;U<W;++U){S=K[U];M+=S.get("styles").marker[Q];if(T>U){G=M;}}N=V*M;if(N>C.get(Q)){J=C.get(Q)/N;M*=J;G*=J;Y*=J;Y=Math.max(Y,1);}G-=M/2;for(U=0;U<V;++U){aa=this._getMarkerDimensions(O[U],ab[U],R,G);P=aa.top;R=aa.calculatedSize;F=aa.left;X[Q]=Y;X[E]=R;if(B){X.fill.color=B[U%B.length];}if(H){X.border.colors=H[U%H.length];}I=this.getMarker(X,L,U);Z=b.one(I.parentNode);Z.setStyle("position","absolute");Z.setStyle("top",P);Z.setStyle("left",F);}this._clearMarkerCache();},_defaultFillColors:["#66007f","#a86f41","#295454","#996ab2","#e8cdb7","#90bdbd","#000000","#c3b8ca","#968373","#678585"],_getPlotDefaults:function(){var B={fill:{type:"solid",alpha:1,colors:null,alphas:null,ratios:null},border:{weight:0,alpha:1},width:12,height:12,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};B.fill.color=this._getDefaultColor(this.get("graphOrder"),"fill");B.border.color=this._getDefaultColor(this.get("graphOrder"),"border");return B;}};b.Histogram=z;b.CartesianSeries=b.Base.create("cartesianSeries",b.Base,[b.Renderer],{_xDisplayName:null,_yDisplayName:null,_leftOrigin:null,_bottomOrigin:null,render:function(){this._setCanvas();this.addListeners();this.set("rendered",true);this.validate();},addListeners:function(){var C=this.get("xAxis"),B=this.get("yAxis");if(C){C.after("dataReady",b.bind(this._xDataChangeHandler,this));C.after("dataUpdate",b.bind(this._xDataChangeHandler,this));}if(B){B.after("dataReady",b.bind(this._yDataChangeHandler,this));B.after("dataUpdate",b.bind(this._yDataChangeHandler,this));}this.after("xAxisChange",this._xAxisChangeHandler);this.after("yAxisChange",this._yAxisChangeHandler);this.after("stylesChange",function(E){var D=this._updateAxisData();if(D){this.draw();}});this.after("widthChange",function(E){var D=this._updateAxisData();if(D){this.draw();}});this.after("heightChange",function(E){var D=this._updateAxisData();if(D){this.draw();}});this.after("visibleChange",this._toggleVisible);},_xAxisChangeHandler:function(C){var B=this.get("xAxis");B.after("dataReady",b.bind(this._xDataChangeHandler,this));B.after("dataUpdate",b.bind(this._xDataChangeHandler,this));},_yAxisChangeHandler:function(C){var B=this.get("yAxis");B.after("dataReady",b.bind(this._yDataChangeHandler,this));B.after("dataUpdate",b.bind(this._yDataChangeHandler,this));},GUID:"yuicartesianseries",_xDataChangeHandler:function(B){var C=this._updateAxisData();if(C){this.draw();}},_yDataChangeHandler:function(B){var C=this._updateAxisData();if(C){this.draw();}},_updateAxisData:function(){var F=this.get("xAxis"),C=this.get("yAxis"),D=this.get("xKey"),B=this.get("yKey"),E,G;if(!F||!C||!D||!B){return false;}G=F.getDataByKey(D);E=C.getDataByKey(B);if(!G||!E){return false;}this.set("xData",G.concat());this.set("yData",E.concat());return true;},validate:function(){if((this.get("xData")&&this.get("yData"))||this._updateAxisData()){this.draw();}},_setCanvas:function(){this.set("graphic",new b.Graphic());this.get("graphic").render(this.get("graph").get("contentBox"));},setAreaData:function(){var ad,ab,F=this.get("graph"),O=F.get("width"),X=F.get("height"),M=this.get("xAxis"),C=this.get("yAxis"),H=this.get("xData").concat(),Z=this.get("yData").concat(),ag=M.getEdgeOffset(H.length,O),L=C.getEdgeOffset(Z.length,X),R=this.get("styles").padding,U=R.left,aa=R.top,J=O-(U+R.right+ag),W=X-(aa+R.bottom+L),S=[],af=[],ae=M.get("maximum"),Y=M.get("minimum"),E=C.get("maximum"),B=C.get("minimum"),I=J/(ae-Y),P=W/(E-B),K,ac=this.get("direction"),V=0,N=[],T=[],G=this.get("xMarkerPlaneOffset"),D=this.get("yMarkerPlaneOffset"),Q=this.get("graphic");K=H.length;ag*=0.5;L*=0.5;if(ac==="vertical"){Z=Z.reverse();}if(Q){Q.setSize(O,X);}this._leftOrigin=Math.round(((0-Y)*I)+U+ag);this._bottomOrigin=Math.round((W+aa+L)-(0-B)*P);for(;V<K;++V){ad=Math.round((((H[V]-Y)*I)+U+ag));ab=Math.round(((W+aa+L)-(Z[V]-B)*P));S.push(ad);af.push(ab);N.push({start:ad-G,end:ad+G});T.push({start:ab-D,end:ab+D});}this.set("xcoords",S);this.set("ycoords",af);this.set("xMarkerPlane",N);this.set("yMarkerPlane",T);},draw:function(){var D=this.get("graph"),B=D.get("width"),C=D.get("height");if(this.get("rendered")){if((isFinite(B)&&isFinite(C)&&B>0&&C>0)&&((this.get("xData")&&this.get("yData"))||this._updateAxisData())){if(this._drawing){this._callLater=true;return;}this._drawing=true;this._callLater=false;this.setAreaData();if(this.get("xcoords")&&this.get("ycoords")){this.drawSeries();}this._drawing=false;if(this._callLater){this.draw();}else{this._toggleVisible(this.get("visible"));this.fire("drawingComplete");}}}},_defaultPlaneOffset:4,_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};},_defaultLineColors:["#426ab3","#d09b2c","#000000","#b82837","#b384b5","#ff7200","#779de3","#cbc8ba","#7ed7a6","#007a6c"],_defaultFillColors:["#6084d0","#eeb647","#6c6b5f","#d6484f","#ce9ed1","#ff9f3b","#93b7ff","#e0ddd0","#94ecba","#309687"],_defaultBorderColors:["#205096","#b38206","#000000","#94001e","#9d6fa0","#e55b00","#5e85c9","#adab9e","#6ac291","#006457"],_defaultSliceColors:["#66007f","#a86f41","#295454","#996ab2","#e8cdb7","#90bdbd","#000000","#c3b8ca","#968373","#678585"],_getDefaultColor:function(E,F){var C={line:this._defaultLineColors,fill:this._defaultFillColors,border:this._defaultBorderColors,slice:this._defaultSliceColors},D=C[F],B=D.length;
E=E||0;if(E>=B){E=E%B;}F=F||"fill";return C[F][E];},_toggleVisible:function(E){var H=this.get("graphic"),G=this.get("markers"),D=0,B,F=this.get("visible"),C;if(H){H.toggleVisible(F);}if(G){B=G.length;for(;D<B;++D){C=G[D];if(C){C.toggleVisible(F);}}}if(this._lineGraphic){this._lineGraphic.toggleVisible(F);}}},{ATTRS:{xDisplayName:{getter:function(){return this._xDisplayName||this.get("xKey");},setter:function(B){this._xDisplayName=B;return B;}},yDisplayName:{getter:function(){return this._yDisplayName||this.get("yKey");},setter:function(B){this._yDisplayName=B;return B;}},categoryDisplayName:{readOnly:true,getter:function(){return this.get("direction")=="vertical"?this.get("yDisplayName"):this.get("xDisplayName");}},valueDisplayName:{readOnly:true,getter:function(){return this.get("direction")=="vertical"?this.get("xDisplayName"):this.get("yDisplayName");}},type:{value:"cartesian"},order:{},graphOrder:{},xcoords:{},ycoords:{},graph:{},xAxis:{},yAxis:{},xKey:{},yKey:{},xData:{},yData:{},rendered:{value:false},width:{readOnly:true,getter:function(){this.get("graph").get("width");}},height:{readOnly:true,getter:function(){this.get("graph").get("height");}},visible:{value:true},xMarkerPlane:{},yMarkerPlane:{},xMarkerPlaneOffset:{getter:function(){var B=this.get("styles").marker;if(B&&B.width&&isFinite(B.width)){return B.width*0.5;}return this._defaultPlaneOffset;}},yMarkerPlaneOffset:{getter:function(){var B=this.get("styles").marker;if(B&&B.height&&isFinite(B.height)){return B.height*0.5;}return this._defaultPlaneOffset;}},direction:{value:"horizontal"}}});b.MarkerSeries=b.Base.create("markerSeries",b.CartesianSeries,[b.Plots],{renderUI:function(){this._setNode();},drawSeries:function(){this.drawPlots();},_setStyles:function(B){if(!B.marker){B={marker:B};}B=this._parseMarkerStyles(B);return b.MarkerSeries.superclass._mergeStyles.apply(this,[B,this._getDefaultStyles()]);},_getDefaultStyles:function(){var B=this._mergeStyles({marker:this._getPlotDefaults()},b.MarkerSeries.superclass._getDefaultStyles());return B;}},{ATTRS:{type:{value:"marker"}}});b.LineSeries=b.Base.create("lineSeries",b.CartesianSeries,[b.Lines],{drawSeries:function(){this.get("graphic").clear();this.drawLines();},_setStyles:function(B){if(!B.line){B={line:B};}return b.LineSeries.superclass._setStyles.apply(this,[B]);},_getDefaultStyles:function(){var B=this._mergeStyles({line:this._getLineDefaults()},b.LineSeries.superclass._getDefaultStyles());return B;}},{ATTRS:{type:{value:"line"}}});b.SplineSeries=b.Base.create("splineSeries",b.CartesianSeries,[b.CurveUtil,b.Lines],{drawSeries:function(){this.get("graphic").clear();this.drawSpline();}},{ATTRS:{type:{value:"spline"}}});b.AreaSplineSeries=b.Base.create("areaSplineSeries",b.CartesianSeries,[b.Fills,b.CurveUtil],{drawSeries:function(){this.get("graphic").clear();this.drawAreaSpline();}},{ATTRS:{type:{value:"areaSpline"}}});b.StackedSplineSeries=b.Base.create("stackedSplineSeries",b.SplineSeries,[b.StackingUtil],{setAreaData:function(){b.StackedSplineSeries.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);}},{ATTRS:{type:{value:"stackedSpline"}}});b.StackedMarkerSeries=b.Base.create("stackedMarkerSeries",b.MarkerSeries,[b.StackingUtil],{setAreaData:function(){b.StackedMarkerSeries.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);}},{ATTRS:{type:{value:"stackedMarker"}}});b.ColumnSeries=b.Base.create("columnSeries",b.MarkerSeries,[b.Histogram],{_getMarkerDimensions:function(C,B,E,F){var D={top:B,left:C+F};D.calculatedSize=this._bottomOrigin-D.top;return D;},updateMarkerState:function(O,K){if(this._markers[K]){var R=b.clone(this.get("styles").marker),C,B=this._getState(O),P=this.get("xcoords"),J=this.get("ycoords"),L=this._markers[K],Q=this.get("graph"),G=Q.seriesTypes[this.get("type")],I=G.length,N=0,H=0,M,D=0,F=[],E=this.get("order");C=B=="off"||!R[B]?R:R[B];C.fill.color=this._getItemColor(C.fill.color,K);C.border.color=this._getItemColor(C.border.color,K);C.height=this._bottomOrigin-J[K];L.update(C);for(;D<I;++D){M=G[D].get("markers")[K];F[D]=P[K]+N;N+=M.width;if(E>D){H=N;}H-=N/2;}for(D=0;D<I;++D){M=b.one(G[D]._graphicNodes[K]);M.setStyle("left",(F[D]-N/2)+"px");}}}},{ATTRS:{type:{value:"column"}}});b.BarSeries=b.Base.create("barSeries",b.MarkerSeries,[b.Histogram],{renderUI:function(){this._setNode();},_getMarkerDimensions:function(C,B,E,F){var D={top:B+F,left:this._leftOrigin};D.calculatedSize=C-D.left;return D;},updateMarkerState:function(N,J){if(this._markers[J]){var R=b.clone(this.get("styles").marker),C,B=this._getState(N),O=this.get("xcoords"),I=this.get("ycoords"),K=this._markers[J],Q=this.get("graph"),F=Q.seriesTypes[this.get("type")],H=F.length,M=0,G=0,L,D=0,P=[],E=this.get("order");C=B=="off"||!R[B]?R:R[B];C.fill.color=this._getItemColor(C.fill.color,J);C.border.color=this._getItemColor(C.border.color,J);C.width=(O[J]-this._leftOrigin);K.update(C);for(;D<H;++D){L=F[D].get("markers")[J];P[D]=I[J]+M;M+=L.height;if(E>D){G=M;}G-=M/2;}for(D=0;D<H;++D){L=b.one(F[D]._graphicNodes[J]);L.setStyle("top",(P[D]-M/2));}}}},{ATTRS:{type:{value:"bar"},direction:{value:"vertical"}}});b.AreaSeries=b.Base.create("areaSeries",b.CartesianSeries,[b.Fills],{drawSeries:function(){this.get("graphic").clear();this.drawFill.apply(this,this._getClosingPoints());},_setStyles:function(B){if(!B.area){B={area:B};}return b.AreaSeries.superclass._setStyles.apply(this,[B]);},_getDefaultStyles:function(){var B=this._mergeStyles({area:this._getAreaDefaults()},b.AreaSeries.superclass._getDefaultStyles());return B;}},{ATTRS:{type:{value:"area"}}});b.StackedAreaSplineSeries=b.Base.create("stackedAreaSplineSeries",b.AreaSeries,[b.CurveUtil,b.StackingUtil],{drawSeries:function(){this.get("graphic").clear();this._stackCoordinates();this.drawStackedAreaSpline();}},{ATTRS:{type:{value:"stackedAreaSpline"}}});b.ComboSeries=b.Base.create("comboSeries",b.CartesianSeries,[b.Fills,b.Lines,b.Plots],{drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawFill.apply(this,this._getClosingPoints());
}if(this.get("showLines")){this.drawLines();}if(this.get("showMarkers")){this.drawPlots();}},_getDefaultStyles:function(){var B=b.ComboSeries.superclass._getDefaultStyles();B.line=this._getLineDefaults();B.marker=this._getPlotDefaults();B.area=this._getAreaDefaults();return B;}},{ATTRS:{type:{value:"combo"},showAreaFill:{value:false},showLines:{value:true},showMarkers:{value:true},marker:{lazyAdd:false,getter:function(){return this.get("styles").marker;},setter:function(B){this.set("styles",{marker:B});}},line:{lazyAdd:false,getter:function(){return this.get("styles").line;},setter:function(B){this.set("styles",{line:B});}},area:{lazyAdd:false,getter:function(){return this.get("styles").area;},setter:function(B){this.set("styles",{area:B});}}}});b.StackedComboSeries=b.Base.create("stackedComboSeries",b.ComboSeries,[b.StackingUtil],{setAreaData:function(){b.StackedComboSeries.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);},drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawFill.apply(this,this._getStackedClosingPoints());}if(this.get("showLines")){this.drawLines();}if(this.get("showMarkers")){this.drawPlots();}}},{ATTRS:{type:{value:"stackedCombo"},showAreaFill:{value:true}}});b.ComboSplineSeries=b.Base.create("comboSplineSeries",b.ComboSeries,[b.CurveUtil],{drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawAreaSpline();}if(this.get("showLines")){this.drawSpline();}if(this.get("showMarkers")){this.drawPlots();}}},{ATTRS:{type:{value:"comboSpline"}}});b.StackedComboSplineSeries=b.Base.create("stackedComboSplineSeries",b.StackedComboSeries,[b.CurveUtil],{drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawStackedAreaSpline();}if(this.get("showLines")){this.drawSpline();}if(this.get("showMarkers")){this.drawPlots();}}},{ATTRS:{type:{value:"stackedComboSpline"},showAreaFill:{value:true}}});b.StackedLineSeries=b.Base.create("stackedLineSeries",b.LineSeries,[b.StackingUtil],{setAreaData:function(){b.StackedLineSeries.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);}},{ATTRS:{type:{value:"stackedLine"}}});b.StackedAreaSeries=b.Base.create("stackedAreaSeries",b.AreaSeries,[b.StackingUtil],{setAreaData:function(){b.StackedAreaSeries.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);},drawSeries:function(){this.get("graphic").clear();this.drawFill.apply(this,this._getStackedClosingPoints());}},{ATTRS:{type:{value:"stackedArea"}}});b.StackedColumnSeries=b.Base.create("stackedColumnSeries",b.ColumnSeries,[b.StackingUtil],{drawSeries:function(){if(this.get("xcoords").length<1){return;}var U=this.get("styles").marker,M=U.width,T=U.height,N=this.get("xcoords"),W=this.get("ycoords"),R=0,S=N.length,O=W[0],E=this.get("type"),C=this.get("graph"),J=C.seriesTypes[E],H,Q=this.get("order"),L=this.get("graphOrder"),F,I,G,K,P,B=Q===0,D=S*M,V;this._createMarkerCache();if(D>this.get("width")){H=this.width/D;M*=H;M=Math.max(M,1);}if(!B){G=J[Q-1];K=G.get("negativeBaseValues");P=G.get("positiveBaseValues");}else{K=[];P=[];}this.set("negativeBaseValues",K);this.set("positiveBaseValues",P);for(R=0;R<S;++R){O=W[R];if(B){T=this._bottomOrigin-O;if(O<this._bottomOrigin){P[R]=O;K[R]=this._bottomOrigin;}else{if(O>this._bottomOrigin){P[R]=this._bottomOrigin;K[R]=O;}else{P[R]=O;K[R]=O;}}}else{if(O>this._bottomOrigin){O+=(K[R]-this._bottomOrigin);T=K[R]-O;K[R]=O;}else{if(O<this._bottomOrigin){O=P[R]-(this._bottomOrigin-W[R]);T=P[R]-O;P[R]=O;}}}F=N[R]-M/2;U.width=M;U.height=T;I=this.getMarker(U,L,R);V=b.one(I.parentNode);V.setStyle("position","absolute");V.setStyle("left",F);V.setStyle("top",O);}this._clearMarkerCache();},updateMarkerState:function(F,E){if(this._markers[E]){var G,C,H=this._getState(F),D=this.get("xcoords"),B=this._markers[E],I=0;G=this.get("styles").marker;C=H=="off"||!G[H]?G:G[H];C.height=B.height;B.update(C);I=G.width*0.5;if(B.parentNode){b.one(B.parentNode).setStyle("left",(D[E]-I));}}},_getPlotDefaults:function(){var B={fill:{type:"solid",alpha:1,colors:null,alphas:null,ratios:null},border:{weight:0,alpha:1},width:24,height:24,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};B.fill.color=this._getDefaultColor(this.get("graphOrder"),"fill");B.border.color=this._getDefaultColor(this.get("graphOrder"),"border");return B;}},{ATTRS:{type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}}});b.StackedBarSeries=b.Base.create("stackedBarSeries",b.BarSeries,[b.StackingUtil],{drawSeries:function(){if(this.get("xcoords").length<1){return;}var T=this.get("styles").marker,L=T.width,S=T.height,M=this.get("xcoords"),W=this.get("ycoords"),Q=0,R=M.length,N=W[0],D=this.get("type"),C=this.get("graph"),I=C.seriesTypes[D],G,P=this.get("order"),K=this.get("graphOrder"),E,H,F,J,O,B=P===0,U=R*S,V;this._createMarkerCache();if(U>this.get("height")){G=this.height/U;S*=G;S=Math.max(S,1);}if(!B){F=I[P-1];J=F.get("negativeBaseValues");O=F.get("positiveBaseValues");}else{J=[];O=[];}this.set("negativeBaseValues",J);this.set("positiveBaseValues",O);for(Q=0;Q<R;++Q){N=W[Q];E=M[Q];if(B){L=E-this._leftOrigin;if(E>this._leftOrigin){O[Q]=E;J[Q]=this._leftOrigin;}else{if(E<this._leftOrigin){O[Q]=this._leftOrigin;J[Q]=E;}else{O[Q]=E;J[Q]=this._leftOrigin;}}E-=L;}else{if(E<this._leftOrigin){E=J[Q]-(this._leftOrigin-M[Q]);L=J[Q]-E;J[Q]=E;}else{if(E>this._leftOrigin){E+=(O[Q]-this._leftOrigin);L=E-O[Q];O[Q]=E;E-=L;}}}N-=S/2;T.width=L;T.height=S;H=this.getMarker(T,K,Q);V=b.one(H.parentNode);V.setStyle("position","absolute");V.setStyle("left",E);V.setStyle("top",N);}this._clearMarkerCache();},updateMarkerState:function(F,D){if(this._markers[D]){var H=this._getState(F),I=this.get("ycoords"),B=this._markers[D],G=this.get("styles").marker,E=G.height,C=H=="off"||!G[H]?G:G[H];C.width=B.width;B.update(C);if(B.parentNode){b.one(B.parentNode).setStyle("top",(I[D]-E/2));}}},_getPlotDefaults:function(){var B={fill:{type:"solid",alpha:1,colors:null,alphas:null,ratios:null},border:{weight:0,alpha:1},width:24,height:24,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};
B.fill.color=this._getDefaultColor(this.get("graphOrder"),"fill");B.border.color=this._getDefaultColor(this.get("graphOrder"),"border");return B;}},{ATTRS:{type:{value:"stackedBar"},direction:{value:"vertical"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}}});b.PieSeries=b.Base.create("pieSeries",b.MarkerSeries,[],{_map:null,_image:null,_setMap:function(){var D="pieHotSpotMapi_"+Math.round(100000*Math.random()),B=this.get("graph").get("contentBox"),C;if(this._image){B.removeChild(this._image);while(this._areaNodes&&this._areaNodes.length>0){C=this._areaNodes.shift();this._map.removeChild(C);}B.removeChild(this._map);}this._image=document.createElement("img");this._image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAABCAYAAAD9yd/wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABJJREFUeNpiZGBgSGPAAgACDAAIkABoFyloZQAAAABJRU5ErkJggg==";B.appendChild(this._image);this._image.setAttribute("usemap","#"+D);this._image.style.zIndex=3;this._image.style.opacity=0;this._image.setAttribute("alt","imagemap");this._map=document.createElement("map");this._map.style.zIndex=5;B.appendChild(this._map);this._map.setAttribute("name",D);this._map.setAttribute("id",D);this._areaNodes=[];},_categoryDisplayName:null,_valueDisplayName:null,addListeners:function(){var B=this.get("categoryAxis"),C=this.get("valueAxis");if(B){B.after("dataReady",b.bind(this._categoryDataChangeHandler,this));B.after("dataUpdate",b.bind(this._categoryDataChangeHandler,this));}if(C){C.after("dataReady",b.bind(this._valueDataChangeHandler,this));C.after("dataUpdate",b.bind(this._valueDataChangeHandler,this));}this.after("categoryAxisChange",this.categoryAxisChangeHandler);this.after("valueAxisChange",this.valueAxisChangeHandler);this.after("stylesChange",this._updateHandler);},validate:function(){this.draw();this._renderered=true;},_categoryAxisChangeHandler:function(B){var C=this.get("categoryAxis");C.after("dataReady",b.bind(this._categoryDataChangeHandler,this));C.after("dataUpdate",b.bind(this._categoryDataChangeHandler,this));},_valueAxisChangeHandler:function(B){var C=this.get("valueAxis");C.after("dataReady",b.bind(this._valueDataChangeHandler,this));C.after("dataUpdate",b.bind(this._valueDataChangeHandler,this));},GUID:"pieseries",_categoryDataChangeHandler:function(B){if(this._rendered&&this.get("categoryKey")&&this.get("valueKey")){this.draw();}},_valueDataChangeHandler:function(B){if(this._rendered&&this.get("categoryKey")&&this.get("valueKey")){this.draw();}},draw:function(){var D=this.get("graph"),B=D.get("width"),C=D.get("height");if(isFinite(B)&&isFinite(C)&&B>0&&C>0){this._rendered=true;this.drawSeries();this.fire("drawingComplete");}},drawPlots:function(){var D=this.get("valueAxis").getDataByKey(this.get("valueKey")).concat(),E=this.get("categoryAxis").getDataByKey(this.get("categoryKey")).concat(),H=0,af=D.length,O=this.get("styles").marker,B=O.fill.colors,ag=O.fill.alphas||["1"],L=O.border.colors,F=[O.border.weight],G=[O.border.alpha],ai=F.concat(),Q=L.concat(),S=G.concat(),ac,ae,T=O.padding,C=this.get("graph"),R=C.get("width")-(T.left+T.right),ab=C.get("height")-(T.top+T.bottom),Z=-90,M=R/2,U=ab/2,I=Math.min(M,U),aa=0,X,ad=0,W,Y,J,P,K,N=this.get("graphOrder"),ah,V=i=="canvas";for(;aa<af;++aa){X=D[aa];D.push(X);if(!isNaN(X)){H+=X;}}ac=B?B.concat():null;ae=ag?ag.concat():null;this._createMarkerCache();if(V){this._setMap();this._image.width=R;this._image.height=ab;}for(aa=0;aa<af;aa++){X=D[aa];if(H===0){ad=360/D.length;}else{ad=360*(X/H);}ad=Math.round(ad);if(ac&&ac.length<1){ac=B.concat();}if(ae&&ae.length<1){ae=ag.concat();}if(ai&&ai.length<1){ai=F.concat();}if(ai&&Q.length<1){Q=L.concat();}if(S&&S.length<1){S=G.concat();}J=ai?ai.shift():null;W=Q?Q.shift():null;Y=S?S.shift():null;Z+=ad;P={border:{color:W,weight:J,alpha:Y},fill:{color:ac?ac.shift():this._getDefaultColor(aa,"slice"),alpha:ae?ae.shift():null},shape:"wedge",props:{arc:ad,radius:I,startAngle:Z,x:M,y:U},width:R,height:ab};K=this.getMarker(P,N,aa);if(V){this._addHotspot(P.props,N,aa);}ah=b.one(K.parent);}this._clearMarkerCache();},_addHotspot:function(E,R,F){var O=document.createElement("area"),Q=1,K=E.x,I=E.y,H=E.arc,P=E.startAngle-H,N=E.startAngle,C=E.radius,L=K+Math.cos(P/180*Math.PI)*C,J=I+Math.sin(P/180*Math.PI)*C,T=K+Math.cos(N/180*Math.PI)*C,S=I+Math.sin(N/180*Math.PI)*C,W=Math.floor(H/10)-1,D=(H/(Math.floor(H/10))/180)*Math.PI,G=Math.atan((J-I)/(L-K)),V=K+", "+I+", "+L+", "+J,U,M,B;for(Q=1;Q<=W;++Q){B=D*Q;U=Math.cos(G+B);M=Math.sin(G+B);if(P<=90){V+=", "+(K+(C*Math.cos(G+(D*Q))));V+=", "+(I+(C*Math.sin(G+(D*Q))));}else{V+=", "+(K-(C*Math.cos(G+(D*Q))));V+=", "+(I-(C*Math.sin(G+(D*Q))));}}V+=", "+T+", "+S;V+=", "+K+", "+I;this._map.appendChild(O);O.setAttribute("class","yui3-seriesmarker");O.setAttribute("id","hotSpot_"+R+"_"+F);O.setAttribute("shape","polygon");O.setAttribute("coords",V);this._areaNodes.push(O);},updateMarkerState:function(G,D){if(this._markers[D]){var I=this._getState(G),C,F,B=this._markers[D],E=this._graphicNodes[D],H=this.get("styles").marker;C=I=="off"||!H[I]?H:H[I];F=this._mergeStyles(C,{});F.fill.color=F.fill.colors[D%F.fill.colors.length];F.fill.alpha=F.fill.alphas[D%F.fill.alphas.length];B.update(F);}},_createMarker:function(F,B,E){var D=b.clone(F),C;D.graphic=this.get("graphic");C=new b.Shape(D);C.addClass("yui3-seriesmarker");C.node.setAttribute("id","series_"+B+"_"+E);return C;},_clearMarkerCache:function(){var B=this._markerCache.length,D=0,C;for(;D<B;++D){C=this._markerCache[D];if(C&&C.node&&C.parentNode){C.parentNode.removeChild(C.node);}}this._markerCache=[];},_getPlotDefaults:function(){var B={padding:{top:0,left:0,right:0,bottom:0},fill:{alphas:["1"]},border:{weight:0,alpha:1}};B.fill.colors=this._defaultSliceColors;B.border.colors=this._defaultBorderColors;return B;},_defaultLineColors:["#426ab3","#d09b2c","#000000","#b82837","#b384b5","#ff7200","#779de3","#cbc8ba","#7ed7a6","#007a6c"],_defaultFillColors:["#6084d0","#eeb647","#6c6b5f","#d6484f","#ce9ed1","#ff9f3b","#93b7ff","#e0ddd0","#94ecba","#309687"],_defaultBorderColors:["#205096","#b38206","#000000","#94001e","#9d6fa0","#e55b00","#5e85c9","#adab9e","#6ac291","#006457"],_defaultSliceColors:["#66007f","#a86f41","#295454","#996ab2","#e8cdb7","#90bdbd","#000000","#c3b8ca","#968373","#678585"],_getDefaultColor:function(E,F){var C={line:this._defaultLineColors,fill:this._defaultFillColors,border:this._defaultBorderColors,slice:this._defaultSliceColors},D=C[F],B=D.length;
E=E||0;if(E>=B){E=E%B;}F=F||"fill";return C[F][E];}},{ATTRS:{type:{value:"pie"},order:{},graph:{},categoryAxis:{value:null,validator:function(B){return B!==this.get("categoryAxis");}},valueAxis:{value:null,validator:function(B){return B!==this.get("valueAxis");}},categoryKey:{value:null,validator:function(B){return B!==this.get("categoryKey");}},valueKey:{value:null,validator:function(B){return B!==this.get("valueKey");}},categoryDisplayName:{setter:function(B){this._categoryDisplayName=B;return B;},getter:function(){return this._categoryDisplayName||this.get("categoryKey");}},valueDisplayName:{setter:function(B){this._valueDisplayName=B;return B;},getter:function(){return this._valueDisplayName||this.get("valueKey");}},slices:null}});b.Gridlines=b.Base.create("gridlines",b.Base,[b.Renderer],{render:function(){this._setCanvas();},remove:function(){var C=this.get("graphic"),B;if(C){B=C.node;if(B){b.one(B).remove();}}},draw:function(){if(this.get("axis")&&this.get("graph")){this._drawGridlines();}},_drawGridlines:function(){var B=this.get("graphic"),C=this.get("axis"),K=C.get("position"),N,H=0,E,L=this.get("direction"),O=this.get("graph"),M=O.get("width"),J=O.get("height"),P=this.get("styles").line,G=P.color,I=P.weight,F=P.alpha,D=L=="vertical"?this._verticalLine:this._horizontalLine;if(K=="none"){N=[];E=C.get("styles").majorUnit.count;for(;H<E;++H){N[H]={x:M*(H/(E-1)),y:J*(H/(E-1))};}H=0;}else{N=C.get("tickPoints");E=N.length;}if(!B){this._setCanvas();B=this.get("graphic");}B.clear();B.setSize(M,J);B.lineStyle(I,G,F);for(;H<E;++H){D(B,N[H],M,J);}B.end();},_horizontalLine:function(E,D,B,C){E.moveTo(0,D.y);E.lineTo(B,D.y);},_verticalLine:function(E,D,B,C){E.moveTo(D.x,0);E.lineTo(D.x,C);},_setCanvas:function(){this.set("graphic",new b.Graphic());this.get("graphic").render(this.get("graph").get("contentBox"));},_getDefaultStyles:function(){var B={line:{color:"#f0efe9",weight:1,alpha:1}};return B;}},{ATTRS:{direction:{},axis:{},graph:{}}});b.Graph=b.Base.create("graph",b.Widget,[b.Renderer],{bindUI:function(){var B=this.get("boundingBox");B.setStyle("position","absolute");this.after("widthChange",this._sizeChangeHandler);this.after("heightChange",this._sizeChangeHandler);this.after("stylesChange",this._updateStyles);},syncUI:function(){if(this.get("showBackground")){var I=new b.Graphic(),G,B=this.get("contentBox"),E=this.get("styles").background,D=E.border,H=D.weight||0,C=this.get("width"),F=this.get("height");if(C){C+=H*2;E.width=C;}if(F){F+=H*2;E.height=F;}I.render(B);this._background=I.getShape(E);G=b.one(I.node);G.setStyle("left",0-H);G.setStyle("top",0-H);G.setStyle("zIndex",-1);}},renderUI:function(){var F=this.get("seriesCollection"),E,D=0,C=F.length,B=this.get("horizontalGridlines"),G=this.get("verticalGridlines");for(;D<C;++D){E=F[D];if(E instanceof b.CartesianSeries){E.render();}}if(B&&B instanceof b.Gridlines){B.draw();}if(G&&G instanceof b.Gridlines){G.draw();}},seriesTypes:null,getSeriesByIndex:function(D){var B=this.get("seriesCollection"),C;if(B&&B.length>D){C=B[D];}return C;},getSeriesByKey:function(D){var C=this._seriesDictionary,B;if(C&&C.hasOwnProperty(D)){B=C[D];}return B;},addDispatcher:function(B){if(!this._dispatchers){this._dispatchers=[];}this._dispatchers.push(B);},_seriesCollection:null,_seriesDictionary:null,_parseSeriesCollection:function(F){if(!F){return;}var C=F.length,E=0,D,B;if(!this.get("seriesCollection")){this._seriesCollection=[];}if(!this._seriesDictionary){this._seriesDictionary={};}if(!this.seriesTypes){this.seriesTypes=[];}for(;E<C;++E){D=F[E];if(!(D instanceof b.CartesianSeries)&&!(D instanceof b.PieSeries)){this._createSeries(D);continue;}this._addSeries(D);}C=this.get("seriesCollection").length;for(E=0;E<C;++E){D=this.get("seriesCollection")[E];B=D.get("direction")=="horizontal"?"yKey":"xKey";this._seriesDictionary[D.get(B)]=D;}},_addSeries:function(D){var E=D.get("type"),G=this.get("seriesCollection"),F=G.length,C=this.seriesTypes,B;if(!D.get("graph")){D.set("graph",this);}G.push(D);if(!C.hasOwnProperty(E)){this.seriesTypes[E]=[];}B=this.seriesTypes[E];D.set("graphOrder",F);D.set("order",B.length);B.push(D);this.addDispatcher(D);D.after("drawingComplete",b.bind(this._drawingCompleteHandler,this));this.fire("seriesAdded",D);},_createSeries:function(F){var G=F.type,H=this.get("seriesCollection"),D=this.seriesTypes,C,B,E;F.graph=this;if(!D.hasOwnProperty(G)){D[G]=[];}C=D[G];F.graph=this;F.order=C.length;F.graphOrder=H.length;B=this._getSeries(F.type);E=new B(F);this.addDispatcher(E);E.after("drawingComplete",b.bind(this._drawingCompleteHandler,this));C.push(E);H.push(E);},_getSeries:function(B){var C;switch(B){case"line":C=b.LineSeries;break;case"column":C=b.ColumnSeries;break;case"bar":C=b.BarSeries;break;case"area":C=b.AreaSeries;break;case"candlestick":C=b.CandlestickSeries;break;case"ohlc":C=b.OHLCSeries;break;case"stackedarea":C=b.StackedAreaSeries;break;case"stackedline":C=b.StackedLineSeries;break;case"stackedcolumn":C=b.StackedColumnSeries;break;case"stackedbar":C=b.StackedBarSeries;break;case"markerseries":C=b.MarkerSeries;break;case"spline":C=b.SplineSeries;break;case"areaspline":C=b.AreaSplineSeries;break;case"stackedspline":C=b.StackedSplineSeries;break;case"stackedareaspline":C=b.StackedAreaSplineSeries;break;case"stackedmarkerseries":C=b.StackedMarkerSeries;break;case"pie":C=b.PieSeries;break;case"combo":C=b.ComboSeries;break;case"stackedcombo":C=b.StackedComboSeries;break;case"combospline":C=b.ComboSplineSeries;break;case"stackedcombospline":C=b.StackedComboSplineSeries;break;default:C=b.CartesianSeries;break;}return C;},_markerEventHandler:function(G){var E=G.type,B=G.currentTarget,F=B.getAttribute("id").split("_"),D=this.getSeriesByIndex(F[1]),C=F[2];D.updateMarkerState(E,C);},_dispatchers:null,_updateStyles:function(){this._background.update(this.get("styles").background);this._sizeChangeHandler();},_sizeChangeHandler:function(H){var B=this.get("horizontalGridlines"),C=this.get("verticalGridlines"),K=this.get("width"),F=this.get("height"),G,J=0,I=0,D=this.get("styles").background,E;
if(D&&D.border){E=D.border.weight||0;}if(this._background){G=b.one(this._background.parentNode);if(K&&F){if(E){K+=E*2;F+=E*2;J-=E;I-=E;}G.setStyle("width",K);G.setStyle("height",F);G.setStyle("left",J);G.setStyle("top",I);this._background.update({width:K,height:F});}}if(B&&B instanceof b.Gridlines){B.draw();}if(C&&C instanceof b.Gridlines){C.draw();}this._drawSeries();},_drawSeries:function(){if(this._drawing){this._callLater=true;return;}this._callLater=false;this._drawing=true;var D=this.get("seriesCollection"),C=0,B=D.length;for(;C<B;++C){D[C].draw();if(!D[C].get("xcoords")||!D[C].get("ycoords")){this._callLater=true;break;}}this._drawing=false;if(this._callLater){this._drawSeries();}},_drawingCompleteHandler:function(D){var C=D.currentTarget,B=b.Array.indexOf(this._dispatchers,C);if(B>-1){this._dispatchers.splice(B,1);}if(this._dispatchers.length<1){this.fire("chartRendered");}},_getDefaultStyles:function(){var B={background:{shape:"rect",fill:{color:"#faf9f2"},border:{color:"#dad8c9",weight:1}}};return B;}},{ATTRS:{seriesCollection:{getter:function(){return this._seriesCollection;},setter:function(B){this._parseSeriesCollection(B);return this._seriesCollection;}},showBackground:{value:true},seriesDictionary:{readOnly:true,getter:function(){return this._seriesDictionary;}},horizontalGridlines:{value:null,setter:function(C){var B=this.get("horizontalGridlines");if(B&&B instanceof b.Gridlines){B.remove();}if(C instanceof b.Gridlines){B=C;C.set("graph",this);C.render();return C;}else{if(C&&C.axis){B=new b.Gridlines({direction:"horizontal",axis:C.axis,graph:this,styles:C.styles});B.render();return B;}}}},verticalGridlines:{value:null,setter:function(C){var B=this.get("verticalGridlines");if(B&&B instanceof b.Gridlines){B.remove();}if(C instanceof b.Gridlines){B=C;C.set("graph",this);C.render();return C;}else{if(C&&C.axis){B=new b.Gridlines({direction:"vertical",axis:C.axis,graph:this,styles:C.styles});B.render();return B;}}}}}});function q(){}q.ATTRS={tooltip:{valueFn:"_getTooltip",setter:function(B){return this._updateTooltip(B);}},categoryKey:{value:"category"},categoryType:{value:"category"},interactionType:{value:"marker"},dataProvider:{setter:function(B){return this._setDataValues(B);}},seriesKeys:{},axesCollection:{},graph:{valueFn:"_getGraph"}};q.prototype={_getGraph:function(){var B=new b.Graph();B.after("chartRendered",b.bind(function(C){this.fire("chartRendered");},this));return B;},getSeries:function(D){var B=null,C=this.get("graph");if(C){if(b.Lang.isNumber(D)){B=C.getSeriesByIndex(D);}else{B=C.getSeriesByKey(D);}}return B;},getAxisByKey:function(D){var B,C=this.get("axes");if(C.hasOwnProperty(D)){B=C[D];}return B;},getCategoryAxis:function(){var C,B=this.get("categoryKey"),D=this.get("axes");if(D.hasOwnProperty(B)){C=D[B];}return C;},_direction:"horizontal",_dataProvider:null,_setDataValues:function(G){if(b.Lang.isArray(G[0])){var F,I=[],D=G[0],E=0,C=D.length,H,B=G.length;for(;E<C;++E){F={category:D[E]};for(H=1;H<B;++H){F["series"+H]=G[H][E];}I[E]=F;}return I;}return G;},_seriesCollection:null,_setSeriesCollection:function(B){this._seriesCollection=B;},_getAxisClass:function(B){return this._axisClass[B];},_axisClass:{stacked:b.StackedAxis,numeric:b.NumericAxis,category:b.CategoryAxis,time:b.TimeAxis},_axes:null,renderUI:function(){var B=this.get("tooltip");this.get("boundingBox").setStyle("position","absolute");this.get("contentBox").setStyle("position","absolute");this._addAxes();this._addSeries();if(B&&B.show){this._addTooltip();}this._redraw();},bindUI:function(){this.after("tooltipChange",b.bind(this._tooltipChangeHandler,this));this.after("widthChange",this._sizeChanged);this.after("heightChange",this._sizeChanged);this.after("dataProviderChange",this._dataProviderChangeHandler);var F=this.get("tooltip"),H="mouseout",E="mouseover",C=this.get("contentBox"),G=this.get("interactionType"),D=0,B;if(G=="marker"){H=F.hideEvent;E=F.showEvent;b.delegate("mouseenter",b.bind(this._markerEventDispatcher,this),C,".yui3-seriesmarker");b.delegate("mousedown",b.bind(this._markerEventDispatcher,this),C,".yui3-seriesmarker");b.delegate("mouseup",b.bind(this._markerEventDispatcher,this),C,".yui3-seriesmarker");b.delegate("mouseleave",b.bind(this._markerEventDispatcher,this),C,".yui3-seriesmarker");b.delegate("click",b.bind(this._markerEventDispatcher,this),C,".yui3-seriesmarker");b.delegate("mousemove",b.bind(this._positionTooltip,this),C,".yui3-seriesmarker");}else{if(G=="planar"){this._overlay.on("mousemove",b.bind(this._planarEventDispatcher,this));this.on("mouseout",this.hideTooltip);}}if(F){if(H&&E&&H==E){this.on(G+"Event:"+H,this.toggleTooltip);}else{if(E){this.on(G+"Event:"+E,F[G+"EventHandler"]);}if(H){if(b.Lang.isArray(H)){B=H.length;for(;D<B;++D){this.on(G+"Event:"+H[D],this.hideTooltip);}}this.on(G+"Event:"+H,this.hideTooltip);}}}},_markerEventDispatcher:function(F){var H=F.type,B=this.get("contentBox"),L=F.currentTarget,K=L.getAttribute("id").split("_"),C=K[1],D=this.getSeries(parseInt(C,10)),E=K[2],G=this.getSeriesItems(D,E),J=F.pageX-B.getX(),I=F.pageY-B.getY();if(H=="mouseenter"){H="mouseover";}else{if(H=="mouseleave"){H="mouseout";}}D.updateMarkerState(H,E);F.halt();this.fire("markerEvent:"+H,{categoryItem:G.category,valueItem:G.value,node:L,x:J,y:I,series:D,index:E,seriesIndex:C});},_dataProviderChangeHandler:function(F){var C=this.get("dataProvider"),E=this.get("axes"),B,D;for(B in E){if(E.hasOwnProperty(B)){D=E[B];if(D instanceof b.Axis){D.set("dataProvider",C);}}}},toggleTooltip:function(C){var B=this.get("tooltip");if(B.visible){this.hideTooltip();}else{B.markerEventHandler.apply(this,[C]);}},_showTooltip:function(E,B,F){var C=this.get("tooltip"),D=C.node;if(E){C.visible=true;D.set("innerHTML",E);D.setStyle("top",F+"px");D.setStyle("left",B+"px");D.removeClass("yui3-widget-hidden");}},_positionTooltip:function(F){var D=this.get("tooltip"),E=D.node,C=this.get("contentBox"),B=(F.pageX+10)-C.getX(),G=(F.pageY+10)-C.getY();if(E){E.setStyle("left",B+"px");E.setStyle("top",G+"px");
}},hideTooltip:function(){var B=this.get("tooltip"),C=B.node;B.visible=false;C.set("innerHTML","");C.setStyle("left",-10000);C.setStyle("top",-10000);C.addClass("yui3-widget-hidden");},_addTooltip:function(){var B=this.get("tooltip");this.get("contentBox").appendChild(B.node);},_updateTooltip:function(F){var D=this._tooltip,B,E=F.styles,C={markerLabelFunction:"markerLabelFunction",planarLabelFunction:"planarLabelFunction",showEvent:"showEvent",hideEvent:"hideEvent",markerEventHandler:"markerEventHandler",planarEventHandler:"planarEventHandler"};if(E){for(B in E){if(E.hasOwnProperty(B)){D.node.setStyle(B,E[B]);}}}for(B in C){if(F.hasOwnProperty(B)){D[B]=F[B];}}return D;},_getTooltip:function(){var C=document.createElement("div"),B={markerLabelFunction:this._tooltipLabelFunction,planarLabelFunction:this._planarLabelFunction,show:true,hideEvent:"mouseout",showEvent:"mouseover",markerEventHandler:function(E){var D=this.get("tooltip"),F=D.markerLabelFunction.apply(this,[E.categoryItem,E.valueItem,E.index,E.series,E.seriesIndex]);this._showTooltip(F,E.x+10,E.y+10);},planarEventHandler:function(E){var D=this.get("tooltip"),G,F=this.get("categoryAxis");G=D.planarLabelFunction.apply(this,[F,E.valueItem,E.index,E.items,E.seriesIndex]);this._showTooltip(G,E.x+10,E.y+10);}};C.setAttribute("id",this.get("id")+"_tooltip");C=b.one(C);C.setStyle("fontSize","85%");C.setStyle("opacity","0.83");C.setStyle("position","absolute");C.setStyle("paddingTop","2px");C.setStyle("paddingRight","5px");C.setStyle("paddingBottom","4px");C.setStyle("paddingLeft","2px");C.setStyle("backgroundColor","#fff");C.setStyle("border","1px solid #dbdccc");C.setStyle("pointerEvents","none");C.setStyle("zIndex",3);C.setStyle("whiteSpace","noWrap");C.addClass("yui3-widget-hidden");B.node=b.one(C);this._tooltip=B;return B;},_planarLabelFunction:function(H,L,J,F,D){var B="",K,G=0,I=F.length,C,E;if(H){B+=H.get("labelFunction").apply(this,[H.getKeyValueAt(this.get("categoryKey"),J),H.get("labelFormat")]);}for(;G<I;++G){E=F[G];if(E.get("visible")){K=L[G];C=K.axis;B+="<br/><span>"+K.displayName+": "+C.get("labelFunction").apply(this,[C.getKeyValueAt(K.key,J),C.get("labelFormat")])+"</span>";}}return B;},_tooltipLabelFunction:function(G,B,E,D,C){var F=G.displayName+":&nbsp;"+G.axis.get("labelFunction").apply(this,[G.value,G.axis.get("labelFormat")])+"<br/>"+B.displayName+":&nbsp;"+B.axis.get("labelFunction").apply(this,[B.value,B.axis.get("labelFormat")]);return F;},_tooltipChangeHandler:function(F){if(this.get("tooltip")){var D=this.get("tooltip"),E=D.node,C=D.show,B=this.get("contentBox");if(E&&C){if(!B.containes(E)){this._addTooltip();}}}}};b.ChartBase=q;b.CartesianChart=b.Base.create("cartesianChart",b.Widget,[b.ChartBase],{renderUI:function(){var C=this.get("tooltip"),B;this.get("boundingBox").setStyle("position","absolute");this.get("contentBox").setStyle("position","absolute");this._addAxes();this._addGridlines();this._addSeries();if(C&&C.show){this._addTooltip();}this.get("styles");if(this.get("interactionType")=="planar"){B=document.createElement("div");this.get("contentBox").appendChild(B);this._overlay=b.one(B);this._overlay.setStyle("position","absolute");this._overlay.setStyle("background","#fff");this._overlay.setStyle("opacity",0);this._overlay.addClass("yui3-overlay");this._overlay.setStyle("zIndex",4);}this._redraw();},_planarEventDispatcher:function(U){var C=this.get("graph"),G=this.get("boundingBox"),P=C.get("contentBox"),L=U.pageX,V=L-P.getX(),J=L-G.getX(),K=U.pageY,T=K-P.getY(),I=K-G.getY(),B=C.get("seriesCollection"),M,R=0,H,F=this._selectedIndex,W,O=[],D=[],N=[],X=this.get("direction"),Y,Q=X=="horizontal"?V:T,E=X=="horizontal"?B[0].get("xMarkerPlane"):B[0].get("yMarkerPlane"),S=E.length;for(;R<S;++R){if(Q<=E[R].end&&Q>=E[R].start){H=R;break;}}S=B.length;for(R=0;R<S;++R){M=B[R];Y=M.get("markers");if(Y&&!isNaN(F)&&F>-1){M.updateMarkerState("mouseout",F);}if(M.get("ycoords")[H]>-1){if(Y&&!isNaN(H)&&H>-1){M.updateMarkerState("mouseover",H);}W=this.getSeriesItems(M,H);D.push(W.category);N.push(W.value);O.push(M);}}this._selectedIndex=H;if(H>-1){this.fire("planarEvent:mouseover",{categoryItem:D,valueItem:N,x:J,y:I,items:O,index:H});}else{this.fire("planarEvent:mouseout");}},_type:"combo",_axesRenderQueue:null,_addToAxesRenderQueue:function(B){if(!this._axesRenderQueue){this._axesRenderQueue=[];}if(b.Array.indexOf(this._axesRenderQueue,B)<0){this._axesRenderQueue.push(B);}},_getDefaultSeriesCollection:function(U){var K=this.get("direction"),B=U||[],R,O,M=[],H,G=this.get("seriesKeys").concat(),Q,F,N,E=this.get("type"),S,J,T,C,D=this.get("categoryKey"),P=this.get("showMarkers"),L=this.get("showAreaFill"),I=this.get("showLines");if(K=="vertical"){R="yAxis";J="yKey";O="xAxis";T="xKey";}else{R="xAxis";J="xKey";O="yAxis";T="yKey";}N=B.length;for(Q=0;Q<N;++Q){S=this._getBaseAttribute(B[Q],T);if(S){F=b.Array.indexOf(G,S);if(F>-1){G.splice(F,1);}M.push(S);}}if(G.length>0){M=M.concat(G);}N=M.length;for(Q=0;Q<N;++Q){H=B[Q]||{type:E};if(H instanceof b.CartesianSeries){this._parseSeriesAxes(H);continue;}H[J]=H[J]||D;H[T]=H[T]||G.shift();H[R]=this._getCategoryAxis();H[O]=this._getSeriesAxis(H[T]);H.type=H.type||E;if((H.type=="combo"||H.type=="stackedcombo"||H.type=="combospline"||H.type=="stackedcombospline")){if(L!==null){H.showAreaFill=H.showAreaFill||L;}if(P!==null){H.showMarkers=H.showMarkers||P;}if(I!==null){H.showLines=H.showLines||I;}}B[Q]=H;}if(U){C=this.get("graph");C.set("seriesCollection",B);B=C.get("seriesCollection");}return B;},_parseSeriesAxes:function(C){var G=this.get("axes"),E=C.get("xAxis"),B=C.get("yAxis"),F=b.Axis,D;if(E&&!(E instanceof F)&&b.Lang.isString(E)&&G.hasOwnProperty(E)){D=G[E];if(D instanceof F){C.set("xAxis",D);}}if(B&&!(B instanceof F)&&b.Lang.isString(B)&&G.hasOwnProperty(B)){D=G[B];if(D instanceof F){C.set("yAxis",D);}}},_getCategoryAxis:function(){var B,C=this.get("axes"),D=this.get("categoryAxisName")||this.get("categoryKey");B=C[D];return B;},_getSeriesAxis:function(C,G){var F=this.get("axes"),B,E,D;
if(F){if(G&&F.hasOwnProperty(G)){D=F[G];}else{for(B in F){if(F.hasOwnProperty(B)){E=F[B].get("keys");if(E&&E.hasOwnProperty(C)){D=F[B];break;}}}}}return D;},_getBaseAttribute:function(C,B){if(C instanceof b.Base){return C.get(B);}if(C.hasOwnProperty(B)){return C[B];}return null;},_setBaseAttribute:function(C,B,D){if(C instanceof b.Base){C.set(B,D);}else{C[B]=D;}},_parseAxes:function(C){var G=this._getDefaultAxes(C),J={},E={edgeOffset:"edgeOffset",position:"position",overlapGraph:"overlapGraph",labelFunction:"labelFunction",labelFunctionScope:"labelFunctionScope",labelFormat:"labelFormat",maximum:"maximum",minimum:"minimum",roundingMethod:"roundingMethod",alwaysShowZero:"alwaysShowZero"},F=this.get("dataProvider"),M,H,N,D,L,K,B,I;for(H in G){if(G.hasOwnProperty(H)){L=G[H];if(L instanceof b.Axis){D=L;}else{K=this._getAxisClass(L.type);B={};B.dataProvider=L.dataProvider||F;B.keys=L.keys;if(L.hasOwnProperty("roundingUnit")){B.roundingUnit=L.roundingUnit;}N=L.position;if(L.styles){B.styles=L.styles;}B.position=L.position;for(M in E){if(E.hasOwnProperty(M)&&L.hasOwnProperty(M)){B[M]=L[M];}}D=new K(B);}if(D){I=this.get(N+"AxesCollection");if(I&&b.Array.indexOf(I,D)>0){D.set("overlapGraph",false);}D.after("axisRendered",b.bind(this._axisRendered,this));J[H]=D;}}}return J;},_addAxes:function(){var G=this.get("axes"),C,E,H,B=this.get("width"),D=this.get("height"),F=b.Node.one(this._parentNode);if(!this._axesCollection){this._axesCollection=[];}for(C in G){if(G.hasOwnProperty(C)){E=G[C];if(E instanceof b.Axis){if(!B){this.set("width",F.get("offsetWidth"));B=this.get("width");}if(!D){this.set("height",F.get("offsetHeight"));D=this.get("height");}E.set("width",B);E.set("height",D);this._addToAxesRenderQueue(E);H=E.get("position");if(!this.get(H+"AxesCollection")){this.set(H+"AxesCollection",[E]);}else{this.get(H+"AxesCollection").push(E);}this._axesCollection.push(E);if(E.get("keys").hasOwnProperty(this.get("categoryKey"))){this.set("categoryAxis",E);}E.render(this.get("contentBox"));}}}},_addSeries:function(){var B=this.get("graph"),C=this.get("seriesCollection");B.render(this.get("contentBox"));},_addGridlines:function(){var L=this.get("graph"),C=this.get("horizontalGridlines"),D=this.get("verticalGridlines"),K=this.get("direction"),M=this.get("leftAxesCollection"),G=this.get("rightAxesCollection"),I=this.get("bottomAxesCollection"),E=this.get("topAxesCollection"),F,B=this.get("categoryAxis"),J,H;if(this._axesCollection){F=this._axesCollection.concat();F.splice(b.Array.indexOf(F,B),1);}if(C){if(M&&M[0]){J=M[0];}else{if(G&&G[0]){J=G[0];}else{J=K=="horizontal"?B:F[0];}}if(!this._getBaseAttribute(C,"axis")&&J){this._setBaseAttribute(C,"axis",J);}if(this._getBaseAttribute(C,"axis")){L.set("horizontalGridlines",C);}}if(D){if(I&&I[0]){H=I[0];}else{if(E&&E[0]){H=E[0];}else{H=K=="vertical"?B:F[0];}}if(!this._getBaseAttribute(D,"axis")&&H){this._setBaseAttribute(D,"axis",H);}if(this._getBaseAttribute(D,"axis")){L.set("verticalGridlines",D);}}},_getDefaultAxes:function(T){var L=this.get("categoryKey"),C,R,N,E={},P=[],D=this.get("categoryAxisName")||this.get("categoryKey"),B=this.get("valueAxisName"),F=this.get("seriesKeys")||[],U,S,K,I,O,M,Q=this.get("dataProvider"),V=this.get("direction"),J,G,H=[],W=this.get("stacked")?"stacked":"numeric";M=Q[0];if(V=="vertical"){J="bottom";G="left";}else{J="left";G="bottom";}if(T){for(U in T){if(T.hasOwnProperty(U)){C=T[U];N=this._getBaseAttribute(C,"keys");R=this._getBaseAttribute(C,"type");if(R=="time"||R=="category"){D=U;this.set("categoryAxisName",U);if(b.Lang.isArray(N)&&N.length>0){L=N[0];this.set("categoryKey",L);}E[U]=C;}else{if(U==D){E[U]=C;}else{E[U]=C;if(U!=B&&N&&b.Lang.isArray(N)){I=N.length;for(K=0;K<I;++K){P.push(N[K]);}H.push(E[U]);}if(!(this._getBaseAttribute(E[U],"type"))){this._setBaseAttribute(E[U],"type",W);}if(!(this._getBaseAttribute(E[U],"position"))){this._setBaseAttribute(E[U],"position",this._getDefaultAxisPosition(E[U],H,J));}}}}}}if(F.length<1){for(U in M){if(M.hasOwnProperty(U)&&U!=L&&b.Array.indexOf(P,U)==-1){F.push(U);}}}O=b.Array.indexOf(F,L);if(O>-1){F.splice(O,1);}S=P.length;for(U=0;U<S;++U){O=b.Array.indexOf(F,P[U]);if(O>-1){F.splice(O,1);}}if(!E.hasOwnProperty(D)){E[D]={};}if(!(this._getBaseAttribute(E[D],"keys"))){this._setBaseAttribute(E[D],"keys",[L]);}if(!(this._getBaseAttribute(E[D],"position"))){this._setBaseAttribute(E[D],"position",G);}if(!(this._getBaseAttribute(E[D],"type"))){this._setBaseAttribute(E[D],"type",this.get("categoryType"));}if(!E.hasOwnProperty(B)&&F&&F.length>0){E[B]={keys:F};H.push(E[B]);}if(P.length>0){if(F.length>0){F=P.concat(F);}else{F=P;}}if(E.hasOwnProperty(B)){if(!(this._getBaseAttribute(E[B],"position"))){this._setBaseAttribute(E[B],"position",this._getDefaultAxisPosition(E[B],H,J));}if(!(this._getBaseAttribute(E[B],"type"))){this._setBaseAttribute(E[B],"type",W);}if(!(this._getBaseAttribute(E[B],"keys"))){this._setBaseAttribute(E[B],"keys",F);}}this.set("seriesKeys",F);return E;},_getDefaultAxisPosition:function(E,C,B){var F=this.get("direction"),D=b.Array.indexOf(C,E);if(C[D-1]&&C[D-1].position){if(F=="horizontal"){if(C[D-1].position=="left"){B="right";}else{if(C[D-1].position=="right"){B="left";}}}else{if(C[D-1].position=="bottom"){B="top";}else{B="bottom";}}}return B;},getSeriesItems:function(G,F){var H=G.get("xAxis"),D=G.get("yAxis"),E=G.get("xKey"),C=G.get("yKey"),I,B;if(this.get("direction")=="vertical"){I={axis:D,key:C,value:D.getKeyValueAt(C,F)};B={axis:H,key:E,value:H.getKeyValueAt(E,F)};}else{B={axis:D,key:C,value:D.getKeyValueAt(C,F)};I={axis:H,key:E,value:H.getKeyValueAt(E,F)};}I.displayName=G.get("categoryDisplayName");B.displayName=G.get("valueDisplayName");I.value=I.axis.getKeyValueAt(I.key,F);B.value=B.axis.getKeyValueAt(B.key,F);return{category:I,value:B};},_axisRendered:function(B){this._axesRenderQueue=this._axesRenderQueue.splice(1+b.Array.indexOf(this._axesRenderQueue,B.currentTarget),1);if(this._axesRenderQueue.length<1){this._redraw();}},_sizeChanged:function(E){if(this._axesCollection){var D=this._axesCollection,C=0,B=D.length;
for(;C<B;++C){this._addToAxesRenderQueue(D[C]);}this._redraw();}},_redraw:function(){if(this._drawing){this._callLater=true;return;}this._drawing=true;this._callLater=false;var P=this.get("width"),M=this.get("height"),H=0,E=0,C=0,K=0,D=this.get("leftAxesCollection"),B=this.get("rightAxesCollection"),J=this.get("topAxesCollection"),N=this.get("bottomAxesCollection"),L=0,I,G,O,R=[],F="visible",Q=this.get("graph");if(D){I=D.length;for(L=I-1;L>-1;--L){R[b.Array.indexOf(this._axesCollection,D[L])]={x:H+"px"};H+=D[L].get("width");}}if(B){I=B.length;L=0;for(L=I-1;L>-1;--L){E+=B[L].get("width");R[b.Array.indexOf(this._axesCollection,B[L])]={x:(P-E)+"px"};}}if(J){I=J.length;for(L=I-1;L>-1;--L){R[b.Array.indexOf(this._axesCollection,J[L])]={y:C+"px"};C+=J[L].get("height");}}if(N){I=N.length;for(L=I-1;L>-1;--L){K+=N[L].get("height");R[b.Array.indexOf(this._axesCollection,N[L])]={y:(M-K)+"px"};}}I=this._axesCollection.length;L=0;for(;L<I;++L){G=this._axesCollection[L];O=G.get("position");if(O=="left"||O==="right"){G.get("boundingBox").setStyle("top",C+"px");G.get("boundingBox").setStyle("left",R[L].x);if(G.get("height")!==M-(K+C)){G.set("height",M-(K+C));}}else{if(O=="bottom"||O=="top"){if(G.get("width")!==P-(H+E)){G.set("width",P-(H+E));}G.get("boundingBox").setStyle("left",H+"px");G.get("boundingBox").setStyle("top",R[L].y);}}if(G.get("setMax")||G.get("setMin")){F="hidden";}}this._drawing=false;if(this._callLater){this._redraw();return;}if(Q){Q.get("boundingBox").setStyle("left",H+"px");Q.get("boundingBox").setStyle("top",C+"px");Q.set("width",P-(H+E));Q.set("height",M-(C+K));Q.get("boundingBox").setStyle("overflow",F);}if(this._overlay){this._overlay.setStyle("left",H+"px");this._overlay.setStyle("top",C+"px");this._overlay.setStyle("width",(P-(H+E))+"px");this._overlay.setStyle("height",(M-(C+K))+"px");}}},{ATTRS:{axesStyles:{getter:function(){var D=this.get("axes"),B,C=this._axesStyles;if(D){for(B in D){if(D.hasOwnProperty(B)&&D[B] instanceof b.Axis){if(!C){C={};}C[B]=D[B].get("styles");}}}return C;},setter:function(D){var C=this.get("axes"),B;for(B in D){if(D.hasOwnProperty(B)&&C.hasOwnProperty(B)){this._setBaseAttribute(C[B],"styles",D[B]);}}}},seriesStyles:{getter:function(){var C=this._seriesStyles,D=this.get("graph"),E,B;if(D){E=D.get("seriesDictionary");if(E){C={};for(B in E){if(E.hasOwnProperty(B)){C[B]=E[B].get("styles");}}}}return C;},setter:function(E){var C,B,D;if(b.Lang.isArray(E)){D=this.get("seriesCollection");C=0;B=E.length;for(;C<B;++C){this._setBaseAttribute(D[C],"styles",E[C]);}}else{for(C in E){if(E.hasOwnProperty(C)){D=this.getSeries(C);this._setBaseAttribute(D,"styles",E[C]);}}}}},graphStyles:{getter:function(){var B=this.get("graph");if(B){return(B.get("styles"));}return this._graphStyles;},setter:function(C){var B=this.get("graph");this._setBaseAttribute(B,"styles",C);}},styles:{getter:function(){var B={axes:this.get("axesStyles"),series:this.get("seriesStyles"),graph:this.get("graphStyles")};return B;},setter:function(B){if(B.hasOwnProperty("axes")){if(this.get("axesStyles")){this.set("axesStyles",B.axes);}else{this._axesStyles=B.axes;}}if(B.hasOwnProperty("series")){if(this.get("seriesStyles")){this.set("seriesStyles",B.series);}else{this._seriesStyles=B.series;}}if(B.hasOwnProperty("graph")){this.set("graphStyles",B.graph);}}},axes:{valueFn:"_parseAxes",setter:function(B){return this._parseAxes(B);}},seriesCollection:{valueFn:"_getDefaultSeriesCollection",setter:function(B){return this._getDefaultSeriesCollection(B);}},leftAxesCollection:{},bottomAxesCollection:{},rightAxesCollection:{},topAxesCollection:{},stacked:{value:false},direction:{getter:function(){var B=this.get("type");if(B=="bar"){return"vertical";}else{if(B=="column"){return"horizontal";}}return this._direction;},setter:function(B){this._direction=B;return this._direction;}},showAreaFill:{},showMarkers:{},showLines:{},categoryAxisName:{},valueAxisName:{value:"values"},horizontalGridlines:{getter:function(){var B=this.get("graph");if(B){return B.get("horizontalGridlines");}return this._horizontalGridlines;},setter:function(C){var B=this.get("graph");if(C&&!b.Lang.isObject(C)){C={};}if(B){B.set("horizontalGridlines",C);}else{this._horizontalGridlines=C;}}},verticalGridlines:{getter:function(){var B=this.get("graph");if(B){return B.get("verticalGridlines");}return this._verticalGridlines;},setter:function(C){var B=this.get("graph");if(C&&!b.Lang.isObject(C)){C={};}if(B){B.set("verticalGridlines",C);}else{this._verticalGridlines=C;}}},type:{getter:function(){if(this.get("stacked")){return"stacked"+this._type;}return this._type;},setter:function(B){if(this._type=="bar"){if(B!="bar"){this.set("direction","horizontal");}}else{if(B=="bar"){this.set("direction","vertical");}}this._type=B;return this._type;}},categoryAxis:{}}});b.PieChart=b.Base.create("pieChart",b.Widget,[b.ChartBase],{_getSeriesCollection:function(){if(this._seriesCollection){return this._seriesCollection;}var G=this.get("axes"),I=[],H,E=0,D,J=this.get("type"),L,B="categoryAxis",F="categoryKey",C="valueAxis",K="valueKey";if(G){H=G.values.get("keyCollection");L=G.category.get("keyCollection")[0];D=H.length;for(;E<D;++E){I[E]={type:J};I[E][B]="category";I[E][C]="values";I[E][F]=L;I[E][K]=H[E];}}this._seriesCollection=I;return I;},_parseAxes:function(E){if(!this._axes){this._axes={};}var F,K,D,I,B,H,J=this.get("type"),L=this.get("width"),G=this.get("height"),C=b.Node.one(this._parentNode);if(!L){this.set("width",C.get("offsetWidth"));L=this.get("width");}if(!G){this.set("height",C.get("offsetHeight"));G=this.get("height");}for(F in E){if(E.hasOwnProperty(F)){I=E[F];K=J=="pie"?"none":I.position;H=this._getAxisClass(I.type);B={dataProvider:this.get("dataProvider")};if(I.hasOwnProperty("roundingUnit")){B.roundingUnit=I.roundingUnit;}B.keys=I.keys;B.width=L;B.height=G;B.position=K;B.styles=I.styles;D=new H(B);D.on("axisRendered",b.bind(this._axisRendered,this));this._axes[F]=D;}}},_addAxes:function(){var E=this.get("axes"),B,C,D;if(!E){this.set("axes",this._getDefaultAxes());
E=this.get("axes");}if(!this._axesCollection){this._axesCollection=[];}for(B in E){if(E.hasOwnProperty(B)){C=E[B];D=C.get("position");if(!this.get(D+"AxesCollection")){this.set(D+"AxesCollection",[C]);}else{this.get(D+"AxesCollection").push(C);}this._axesCollection.push(C);}}},_addSeries:function(){var B=this.get("graph"),C=this.get("seriesCollection");this._parseSeriesAxes(C);B.set("showBackground",false);B.set("width",this.get("width"));B.set("height",this.get("height"));B.set("seriesCollection",C);this._seriesCollection=B.get("seriesCollection");B.render(this.get("contentBox"));},_parseSeriesAxes:function(G){var C=0,B=G.length,E,F=this.get("axes"),D;for(;C<B;++C){E=G[C];if(E){if(E instanceof b.PieSeries){D=E.get("categoryAxis");if(D&&!(D instanceof b.Axis)){E.set("categoryAxis",F[D]);}D=E.get("valueAxis");if(D&&!(D instanceof b.Axis)){E.set("valueAxis",F[D]);}continue;}E.categoryAxis=F.category;E.valueAxis=F.values;if(!E.type){E.type=this.get("type");}}}},_getDefaultAxes:function(){var F=this.get("categoryKey"),C=this.get("seriesKeys")||[],B="numeric",E,D=this.get("dataProvider")[0];if(C.length<1){for(E in D){if(E!=F){C.push(E);}}if(C.length>0){this.set("seriesKeys",C);}}return{values:{keys:C,type:B},category:{keys:[F],type:this.get("categoryType")}};},getSeriesItems:function(D,C){var E={axis:D.get("categoryAxis"),key:D.get("categoryKey"),displayName:D.get("categoryDisplayName")},B={axis:D.get("valueAxis"),key:D.get("valueKey"),displayName:D.get("valueDisplayName")};E.value=E.axis.getKeyValueAt(E.key,C);B.value=B.axis.getKeyValueAt(B.key,C);return{category:E,value:B};},_sizeChanged:function(B){this._redraw();},_redraw:function(){var B=this.get("graph");if(B){B.set("width",this.get("width"));B.set("height",this.get("height"));}}},{ATTRS:{axes:{getter:function(){return this._axes;},setter:function(B){this._parseAxes(B);}},seriesCollection:{getter:function(){return this._getSeriesCollection();},setter:function(B){return this._setSeriesCollection(B);}},type:{value:"pie"}}});function v(B){if(B.type!="pie"){return new b.CartesianChart(B);}else{return new b.PieChart(B);}}b.Chart=v;},"@VERSION@",{requires:["dom","datatype","event-custom","event-mouseenter","widget","widget-position","widget-stack"]});