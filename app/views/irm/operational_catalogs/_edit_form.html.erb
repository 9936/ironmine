
    <script type="text/javascript">
        function s1change(){
            if($("#s1").val() == "")
            {
                $("select#s2").get(0).selectedIndex = 0;
                $("#s2").attr("disabled", "disabled");
                $("select#s3").get(0).selectedIndex = 0;
                $("#s3").attr("disabled", "disabled");
            }
            else
            {
               $("#s2").attr("disabled", false);
            }
        }
        function s2change(){
            if($("#s2").val() == "")
            {
               $("select#s3").get(0).selectedIndex = 0;
               $("#s3").attr("disabled", true);
            }
            else
            {
               $("#s3").attr("disabled", false);
            }
        }
    </script>
<div id="operational_catalog_new">
     <%= form_for(@operational_catalog,:url=>{:action=>"update"},:builder => LabellingFormBuilder) do |f| %>
            <div class="containerheader">
                <div class="floatleft headertitle"><%=t(:label_irm_operational_catalog_edit)%></div>
            </div>
            <div class="containerbody">
            <table class="formtable" cellspacing="0">
                <tr>
                  <td class="formlabel"><%=(t :label_irm_operational_catalog_company)%>:</td>
                  <td class="formitem"><%=f.select :company_id, available_company.collect{|p| [p[:name], p.id]}, {:include_blank => t(:select)}, :required=>true%></td>
                </tr>
                <tr>
                  <td class="formlabel"><%=(t :label_irm_operational_catalog_segment1)%>:</td>
                  <td class="formitem"><%=f.select :segment1, available_oper_cata_segment_set(:segment1), {:include_blank => t(:default)}, :id => "s1", :onchange => "s1change()"%></td>
                </tr>
                <tr>
                  <td class="formlabel"><%=(t :label_irm_operational_catalog_segment2)%>:</td>
                  <td class="formitem"><%=f.select :segment2, available_oper_cata_segment_set(:segment2), {:include_blank => t(:default)}, :id => "s2", :onchange => "s2change()", :disabled => (true if @operational_catalog.segment1.blank?)%></td>
                </tr>
                <tr>
                  <td class="formlabel"><%=(t :label_irm_operational_catalog_segment3)%>:</td>
                  <td class="formitem"><%=f.select :segment3, available_oper_cata_segment_set(:segment3), {:include_blank => t(:default)}, :id => "s3", :disabled =>  (true if @operational_catalog.segment2.blank?)%></td>
                </tr>
                <tr>
                  <td class="formlabel"><%=(t :active)%>:</td>
                  <td class="formitem"><%=f.select :status_code, available_active_status, {:include_blank => false}%></td>
                </tr>
            </table>
            </div>      
           
            <div class="containerfooter">
                <div class="button floatright"><%= link_to t(:save), {}, {:action_type => "ajaxSubmit", :script => "/replace(system_message_box,system_message_box);reload_grid('operational_catalogs_grid');/replace(system_message_box,system_message_box);"}%></div>
                <div class="button floatright"><%= link_to t(:cancel), {:action => "new"}, :script => "/replace(container1,operational_catalog_new);/", :action_type=>"ajaxLink"%></div>
            </div>
     <% end %>
</div>
